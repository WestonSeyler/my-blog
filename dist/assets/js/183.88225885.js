(window.webpackJsonp=window.webpackJsonp||[]).push([[183],{621:function(t,e,a){"use strict";a.r(e);var i=a(30),o=Object(i.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h4",{attrs:{id:"大致流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#大致流程"}},[t._v("#")]),t._v(" 大致流程:")]),t._v(" "),a("p",[t._v("Github 提交代码 -> 触发WebHook  -> 触发Jenkins 执行 build")]),t._v(" "),a("h4",{attrs:{id:"github-部分"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github-部分"}},[t._v("#")]),t._v(" Github 部分：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("建立仓库：\nhttps://github.com/mafeifan/docker-express-demo\n这是一个非常简单的Node Express的项目，自带Dockerfile文件，我们需要每次push代码，在Jenkins服务器上构建新的Docker镜像和容器。")])]),t._v(" "),a("li",[a("p",[t._v("生成 personal access token (如果是私有项目)")])])]),t._v(" "),a("blockquote",[a("p",[a("img",{attrs:{src:"https://hexo-blog.pek3b.qingstor.com/upload_images/71414-81bcaa0da30bfb62.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"image.png"}})])]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("配置项目的Webhook地址")])]),t._v(" "),a("blockquote",[a("p",[a("img",{attrs:{src:"https://hexo-blog.pek3b.qingstor.com/upload_images/71414-deaac0a8d8435383.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"image.png"}})])]),t._v(" "),a("p",[t._v("地址获取在Jenkins系统设置页面，还可以覆盖默认的地址")]),t._v(" "),a("blockquote",[a("p",[a("img",{attrs:{src:"https://hexo-blog.pek3b.qingstor.com/upload_images/71414-9fce07eef6021df7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"image.png"}})])]),t._v(" "),a("h4",{attrs:{id:"jenkins-部分"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jenkins-部分"}},[t._v("#")]),t._v(" Jenkins  部分")]),t._v(" "),a("ol",[a("li",[t._v("安装 Github 插件 (一般默认就会安装)")]),t._v(" "),a("li",[t._v("添加 Jenkins credentials")])]),t._v(" "),a("blockquote",[a("p",[a("img",{attrs:{src:"https://hexo-blog.pek3b.qingstor.com/upload_images/71414-d33f3f13cdc47a5b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"image.png"}})])]),t._v(" "),a("p",[t._v('我们发现credentials分好几种，对于公有仓库，选择用户名和密码即可，如果是私有仓库可以选择“ssh username with private key” 或者 "Secret" (内容填入刚生成的Github token)\nID 自己起，要唯一，创建后无法修改\n3. 创建Item，类型选择"FreeStyle Project"')]),t._v(" "),a("blockquote",[a("p",[a("img",{attrs:{src:"https://hexo-blog.pek3b.qingstor.com/upload_images/71414-586f84d6b2df1e84.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"image.png"}})])]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("配置")])]),t._v(" "),a("blockquote",[a("p",[a("img",{attrs:{src:"https://hexo-blog.pek3b.qingstor.com/upload_images/71414-ff8e607658af457a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"image.png"}}),t._v(" "),a("img",{attrs:{src:"https://hexo-blog.pek3b.qingstor.com/upload_images/71414-7d44ba65614e1232.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"image.png"}})])]),t._v(" "),a("h4",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("ol",[a("li",[t._v("流程非常简单，只是个人练习，不要运用在正式项目中")]),t._v(" "),a("li",[t._v("有很多优化的地方，比如build后需要执行的shell脚本完全可以放入到项目仓库中受版本控制")])])])}),[],!1,null,null,null);e.default=o.exports}}]);