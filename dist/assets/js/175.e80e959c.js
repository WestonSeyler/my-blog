(window.webpackJsonp=window.webpackJsonp||[]).push([[175],{613:function(s,t,a){"use strict";a.r(t);var n=a(30),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("建议直接看"),a("a",{attrs:{href:"https://docs.github.com/en/free-pro-team@latest/actions",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档"),a("OutboundLink")],1),s._v("，虽然翻译的不全。\n官方的永远的最新的。")]),s._v(" "),a("h4",{attrs:{id:"github-action-是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github-action-是什么"}},[s._v("#")]),s._v(" Github Action 是什么？")]),s._v(" "),a("p",[s._v("是 Github 推出的持续集成工具")]),s._v(" "),a("h4",{attrs:{id:"持续集成是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#持续集成是什么"}},[s._v("#")]),s._v(" 持续集成是什么？")]),s._v(" "),a("p",[s._v("简单说就是自动化的打包程序——如果是前端程序员，这样解释比较顺畅：")]),s._v(" "),a("p",[s._v("每次提交代码到 Github 的仓库后，Github 都会自动创建一个虚拟机（Mac / Windows / Linux 任我们选），来执行一段或多段指令（由我们定），例如：")]),s._v(" "),a("p",[s._v("npm install\nnpm run build")]),s._v(" "),a("p",[s._v("关于虚拟机的目前是 Microsoft Azure 提供的Standard_DS2型号，硬件配置是2核7G内存，14G的SSD硬盘，"),a("a",{attrs:{href:"https://docs.github.com/en/free-pro-team@latest/actions/reference/specifications-for-github-hosted-runners",target:"_blank",rel:"noopener noreferrer"}},[s._v("详见"),a("OutboundLink")],1)]),s._v(" "),a("h4",{attrs:{id:"yaml-是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#yaml-是什么"}},[s._v("#")]),s._v(" Yaml 是什么？")]),s._v(" "),a("p",[s._v("我们集成 Github Action 的做法，就是在我们仓库的根目录下，创建一个 .github 文件夹，里面放一个 *.yaml 文件——这个 Yaml 文件就是我们配置 Github Action 所用的文件。")]),s._v(" "),a("p",[s._v("它是一个非常容易地脚本语言，如果我们不会的话，也没啥大事继续往下看就成了。")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.codeproject.com/Articles/1214409/Learn-YAML-in-five-minutes",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考文档：五分钟学习 YAML"),a("OutboundLink")],1)]),s._v(" "),a("h4",{attrs:{id:"github-action-的使用限制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github-action-的使用限制"}},[s._v("#")]),s._v(" Github Action 的使用限制")]),s._v(" "),a("p",[s._v("每个 Workflow 中的 job 最多可以执行 6 个小时\n每个 Workflow 最多可以执行 72 小时\n每个 Workflow 中的 job 最多可以排队 24 小时\n在一个存储库的所有 Action 中，一个小时最多可以执行 1000 个 API 请求\n并发工作数：Linux：20，Mac：5（专业版可以最多提高到 180 / 50）")]),s._v(" "),a("h4",{attrs:{id:"什么是-workflow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是-workflow"}},[s._v("#")]),s._v(" 什么是 Workflow？")]),s._v(" "),a("p",[s._v("Workflow 是由一个或多个 job 组成的可配置的自动化过程。我们通过创建 YAML 文件来创建 Workflow 配置。")]),s._v(" "),a("h4",{attrs:{id:"一、如何定义-workflow-的名字"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、如何定义-workflow-的名字"}},[s._v("#")]),s._v(" 一、如何定义 Workflow 的名字？")]),s._v(" "),a("blockquote",[a("p",[s._v("name")])]),s._v(" "),a("p",[s._v("Workflow 的名称，Github 在存储库的 Action 页面上显示 Workflow 的名称。")]),s._v(" "),a("p",[s._v("如果我们省略 name，则 Github 会将其设置为相对于存储库根目录的工作流文件路径。")]),s._v(" "),a("blockquote",[a("p",[s._v("name: Greeting from Mona\non: push")])]),s._v(" "),a("h4",{attrs:{id:"二、如何定义-workflow-的触发器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、如何定义-workflow-的触发器"}},[s._v("#")]),s._v(" 二、如何定义 Workflow 的触发器？")]),s._v(" "),a("blockquote",[a("p",[s._v("on")])]),s._v(" "),a("p",[s._v("触发 Workflow 执行的 event 名称，比如：每当我提交代码到 Github 上的时候，或者是每当我打 TAG 的时候。")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[s._v("// 单个事件\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" push\n\n// 多个事件\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("pull_request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"三、workflow-的-job-是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、workflow-的-job-是什么"}},[s._v("#")]),s._v(" 三、Workflow 的 job 是什么？")]),s._v(" "),a("p",[s._v("答：一个 Workflow 由一个或多个 jobs 构成，含义是一次持续集成的运行，可以完成多个任务。")]),s._v(" "),a("h5",{attrs:{id:"_1、如何定义一个-job"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、如何定义一个-job"}},[s._v("#")]),s._v(" 1、如何定义一个 job？")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("my_first_job")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" My first job\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("my_second_job")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" My second job\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("答：通过 job 的 id 定义。")]),s._v(" "),a("p",[s._v("每个 job 必须具有一个 id 与之关联。")]),s._v(" "),a("p",[s._v("上面的 my_first_job 和 my_second_job 就是 job_id。")]),s._v(" "),a("h5",{attrs:{id:"_2、如何定义-job-的名称"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、如何定义-job-的名称"}},[s._v("#")]),s._v(" 2、如何定义 job 的名称？")]),s._v(" "),a("blockquote",[a("p",[s._v("jobs.<job_id>.name")])]),s._v(" "),a("p",[s._v("name 会显示在 Github 上")]),s._v(" "),a("h5",{attrs:{id:"_3、如何定义-job-的依赖-job-是否可以依赖于别的-job-的输出结果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、如何定义-job-的依赖-job-是否可以依赖于别的-job-的输出结果"}},[s._v("#")]),s._v(" 3、如何定义 job 的依赖？job 是否可以依赖于别的 job 的输出结果？")]),s._v(" "),a("blockquote",[a("p",[s._v("jobs.<job_id>.needs")])]),s._v(" "),a("p",[s._v("答：needs 可以标识 job 是否依赖于别的 job——如果 job 失败，则会跳过所有需要该 job 的 job")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("job1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("job2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("needs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" job1\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("job3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("needs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("job1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" job2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("blockquote",[a("p",[s._v("jobs.<jobs_id>.outputs：用于和 need 打配合，outputs 输出=》need 输入")])]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("job1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("runs-on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("latest\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Map a step output to a job output")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("outputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("output1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" steps.step1.outputs.test "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("output2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" steps.step2.outputs.test "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" step1\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(' echo "'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("set"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("output name=test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v('hello"\n    '),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" step2\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(' echo "'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("set"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("output name=test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v('world"\n  '),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("job2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("runs-on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("latest\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("needs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" job1\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" echo $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("needs.job1.outputs.output1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("needs.job1.outputs.output2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h5",{attrs:{id:"_4、如何定义-job-的运行环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、如何定义-job-的运行环境"}},[s._v("#")]),s._v(" 4、如何定义 job 的运行环境？")]),s._v(" "),a("blockquote",[a("p",[s._v("jobs.<job_id>.runs-on")])]),s._v(" "),a("p",[s._v("指定运行 job 的运行环境，Github 上可用的运行器为：")]),s._v(" "),a("ul",[a("li",[s._v("windows-2019")]),s._v(" "),a("li",[s._v("ubuntu-20.04")]),s._v(" "),a("li",[s._v("ubuntu-18.04")]),s._v(" "),a("li",[s._v("ubuntu-16.04")]),s._v(" "),a("li",[s._v("macos-10.15")])]),s._v(" "),a("p",[s._v("而且这些操作系统上面已经预装了一些常用的软件开发工具，如Ubuntu 20.04.1 LTS安装的"),a("a",{attrs:{href:"https://github.com/actions/virtual-environments/blob/main/images/linux/Ubuntu2004-README.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("软件"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("job1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("runs-on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" macos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.15")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("job2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("runs-on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" windows"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h5",{attrs:{id:"_5、如何给-job-定义环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、如何给-job-定义环境变量"}},[s._v("#")]),s._v(" 5、如何给 job 定义环境变量？")]),s._v(" "),a("blockquote",[a("p",[s._v("jobs.<jobs_id>.env")])]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("job1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("FIRST_NAME")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Mona\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h5",{attrs:{id:"_6、如何使用-job-的条件控制语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、如何使用-job-的条件控制语句"}},[s._v("#")]),s._v(" 6、如何使用 job 的条件控制语句？")]),s._v(" "),a("blockquote",[a("p",[s._v("jobs.<job_id>.if")])]),s._v(" "),a("p",[s._v("我们可以使用 if 条件语句来组织 job 运行")]),s._v(" "),a("h4",{attrs:{id:"四、step-属性是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、step-属性是什么"}},[s._v("#")]),s._v(" 四、Step 属性是什么？")]),s._v(" "),a("p",[s._v("答：每个 job 由多个 step 构成，它会从上至下依次执行。")]),s._v(" "),a("p",[s._v("step 运行的是什么？\nstep 可以运行：")]),s._v(" "),a("p",[s._v("commands：命令行命令\nsetup tasks：环境配置命令（比如安装个 Node 环境、安装个 Python 环境）\naction（in your repository, in public repository, in Docker registry）：一段 action（Action 是什么我们后面再说）\n每个 step 都在自己的运行器环境中运行，并且可以访问工作空间和文件系统。")]),s._v(" "),a("p",[s._v("因为每个 step 都在运行器环境中独立运行，所以 step 之间不会保留对环境变量的更改。")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义 Workflow 的名字")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Greeting from Mona\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义 Workflow 的触发器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" push\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义 Workflow 的 job")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义 job 的 id")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("my-job")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义 job 的 name")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" My Job\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义 job 的运行环境")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("runs-on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("latest\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义 job 的运行步骤")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义 step 的名称")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Print a greeting\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义 step 的环境变量")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("MY_VAR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Hi there"),a("span",{pre:!0,attrs:{class:"token tag"}},[s._v("!")]),s._v(" My name is\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("FIRST_NAME")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Mona\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("MIDDLE_NAME")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" The\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("LAST_NAME")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Octocat\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行指令：输出环境变量")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[s._v("\n        echo $MY_VAR $FIRST_NAME $MIDDLE_NAME $LAST_NAME.")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("h4",{attrs:{id:"五、action-是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、action-是什么"}},[s._v("#")]),s._v(" 五、Action 是什么？")]),s._v(" "),a("p",[s._v("我们可以直接打开的 "),a("a",{attrs:{href:"https://github.com/marketplace?type=actions",target:"_blank",rel:"noopener noreferrer"}},[s._v("Action 市场"),a("OutboundLink")],1),s._v("来看看\nAction 其实就是命令，比如 Github 官方给了我们一些默认的命令：\n比如最常用的，check-out 代码到 Workflow 工作区: https://github.com/marketplace/actions/checkout")]),s._v(" "),a("h5",{attrs:{id:"_1、我们应该如何使用-action"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、我们应该如何使用-action"}},[s._v("#")]),s._v(" 1、我们应该如何使用 Action？")]),s._v(" "),a("blockquote",[a("p",[s._v("jobs.<job_id>.steps.uses")])]),s._v(" "),a("p",[s._v("比如我们可以 check-out 仓库中最新的代码到 Workflow 的工作区：")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" actions/checkout@v2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("当然，我们还可以给它添加个名字：")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Check out Git repository\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" actions/checkout@v2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("再比如说，我们如果是 node 项目，我们可以安装 Node.js 与 NPM：")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" actions/checkout@v2\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" actions/setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("node@v2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("beta\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node-version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'12'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h5",{attrs:{id:"_2、上面我们为什么要用-v2-和-v2-beta-呢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、上面我们为什么要用-v2-和-v2-beta-呢"}},[s._v("#")]),s._v(" 2、上面我们为什么要用：@v2 和 @v2-beta 呢？")]),s._v(" "),a("p",[s._v("答：首先，正如大家所想，这个 @v2 和 @v2-beta 的意思都是 Action 的版本。")]),s._v(" "),a("p",[s._v("我们如果不带版本号的话，其实就是默认使用最新版本的了。")]),s._v(" "),a("p",[s._v("但是 Github 官方强烈要求我们带上版本号——这样子的话，我们就不会出现：写好一个 Workflow，但是由于某个 Action 的作者一更新，我们的 Workflow 就崩了的问题")]),s._v(" "),a("h5",{attrs:{id:"_3、上面的-with-参数是什么意思"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、上面的-with-参数是什么意思"}},[s._v("#")]),s._v(" 3、上面的 with 参数是什么意思？")]),s._v(" "),a("p",[s._v("答：有的 Action 可能会需要我们传入一些特定的值：比如上面的 node 版本啊之类的，这些需要我们传入的参数由 with 关键字来引入。")]),s._v(" "),a("p",[s._v("具体的 Action 需要传入哪些参数，还请去 Github Action Market 中 Action 的页面中查看。")]),s._v(" "),a("p",[s._v("具体库的使用和参数，我们可以去官方的 Action 市场查看：")]),s._v(" "),a("h4",{attrs:{id:"六、我们如何运行命令行命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、我们如何运行命令行命令"}},[s._v("#")]),s._v(" 六、我们如何运行命令行命令？")]),s._v(" "),a("blockquote",[a("p",[s._v("jobs.<job_id>.steps.run")])]),s._v(" "),a("p",[s._v("上文说到，steps 可以运行：action 和 command-line programs。")]),s._v(" "),a("p",[s._v("我们现在已经知道可以使用 uses 来运行 action 了，那么我们该如何运行 command-line programs 呢？")]),s._v(" "),a("p",[s._v("答案是：run")]),s._v(" "),a("p",[s._v("run 命令在默认状态下会启动一个没有登录的 shell 来作为命令输入器。")]),s._v(" "),a("h5",{attrs:{id:"_1、如何运行多行命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、如何运行多行命令"}},[s._v("#")]),s._v(" 1、如何运行多行命令？")]),s._v(" "),a("p",[s._v("每个 run 命令都会启动一个新的 shell，所以我们执行多行连续命令的时候需要写在同一个 run 下：")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[s._v("单行命令\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Install Dependencies\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" npm install\n多行命令\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Clean install dependencies and build\n  run： "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),s._v("\n    npm ci\n    npm run build\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h5",{attrs:{id:"_2、如何指定-command-运行的位置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、如何指定-command-运行的位置"}},[s._v("#")]),s._v(" 2、如何指定 command 运行的位置？")]),s._v(" "),a("p",[s._v("使用 working-directory 关键字，我们可以指定 command 的运行位置：")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Clean temp directory\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" rm "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("rf *\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("working-directory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ./temp\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h5",{attrs:{id:"_3、如何指定-shell-的类型-使用-cmd-or-powershell-or-python"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、如何指定-shell-的类型-使用-cmd-or-powershell-or-python"}},[s._v("#")]),s._v(" 3、如何指定 shell 的类型？（使用 cmd or powershell or python？？）")]),s._v(" "),a("p",[s._v("使用 shell 关键字，来指定特定的 shell：")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Display the path\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" echo $PATH\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("shell")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" bash\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[a("a",{attrs:{href:"https://docs.github.com/en/free-pro-team@latest/actions/reference/workflow-syntax-for-github-actions#using-a-specific-shell",target:"_blank",rel:"noopener noreferrer"}},[s._v("各个系统支持的 shell 类型"),a("OutboundLink")],1)]),s._v(" "),a("h4",{attrs:{id:"七、什么是矩阵"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七、什么是矩阵"}},[s._v("#")]),s._v(" 七、什么是矩阵？")]),s._v(" "),a("p",[s._v("答：就是有时候，我们的代码可能编译环境有多个。比如 electron 的程序，我们需要在 macos 上编译 dmg 压缩包，在 windows 上编译 exe 可执行文件。")]),s._v(" "),a("p",[s._v("这种时候，我们使用矩阵就可以啦~")]),s._v(" "),a("p",[s._v("比如下面的代码，我们使用了矩阵指定了：2 个操作系统，3 个 node 版本。")]),s._v(" "),a("p",[s._v("这时候下面这段代码就会执行 6 次—— 2 x 3 = 6！！！")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("runs-on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" matrix.os "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("strategy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("matrix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("os")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16.04")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.04")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" actions/setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("node@v1\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node-version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" matrix.node "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h4",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[s._v("#")]),s._v(" 参考")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/164744104",target:"_blank",rel:"noopener noreferrer"}},[s._v("Github Action 精华指南"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=e.exports}}]);