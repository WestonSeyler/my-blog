(window.webpackJsonp=window.webpackJsonp||[]).push([[410],{848:function(e,t,a){"use strict";a.r(t);var s=a(30),v=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("如果你正在使用mac电脑，并且经常需要在本地部署一些站点，又讨厌频繁的修改服务器配置文件重启服务器。\n强烈推荐使用Valet\nValet是一套包含了Nginx和DnsMasq工具，配合PHP。可以快速的创建站点。")]),e._v(" "),a("h4",{attrs:{id:"原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#原理"}},[e._v("#")]),e._v(" 原理：")]),e._v(" "),a("p",[e._v("Valet 为您的 Mac 设置了开机后始终在后台运行 Nginx 服务。 然后，Valet 使用 DnsMasq 将所有指向安装在本地的计算机站点请求代理到 *.test 结尾的域名上。")]),e._v(" "),a("p",[e._v("默认情况下，Valet 使用 .test 顶级域名为你的项目提供服务。例如，如果你要使用 .app 而不是 .test ，就运行 valet domain app ，Valet 会自动将站点域名改为 *.app 。")]),e._v(" "),a("p",[e._v("Valet 提供两个命令来为 Laravel 的站点提供服务：park 和 link 。")]),e._v(" "),a("h5",{attrs:{id:"park-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#park-命令"}},[e._v("#")]),e._v(" park 命令")]),e._v(" "),a("ol",[a("li",[e._v("mkdir ~/projects,  cd ~/projects")]),e._v(" "),a("li",[e._v("执行 valet park")]),e._v(" "),a("li",[e._v("在projects目录中新建site1，然后再往site1放个index.php")])]),e._v(" "),a("p",[e._v("浏览器打开"),a("code",[e._v("http://site1.test")]),e._v(" 就能访问到")]),e._v(" "),a("h5",{attrs:{id:"link-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#link-命令"}},[e._v("#")]),e._v(" link 命令")]),e._v(" "),a("p",[e._v("可以针对某目录中提供单个站点而不是整个目录。")]),e._v(" "),a("p",[e._v("比如切换到 /projects/symfony-demo。默认可以通过"),a("code",[e._v("http://symfony-demo.test")]),e._v(" 打开该站点。\n如果需要自定义，可以在该目录下执行 "),a("code",[e._v("valet link my-symfony")]),e._v("\n会有提示 "),a("code",[e._v("A [my-symfony] symbolic link has been created in [/Users/mafei/.config/valet/Sites/my-symfony].")])]),e._v(" "),a("p",[e._v("然后就可以通过浏览器"),a("code",[e._v("http://my-symfony.test")]),e._v(" 访问到了。不要忘了后缀。")]),e._v(" "),a("h5",{attrs:{id:"支持yii2项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#支持yii2项目"}},[e._v("#")]),e._v(" 支持Yii2项目")]),e._v(" "),a("p",[e._v("Valet 本身提供了很多开源项目，如Laravel，Lumen， Drupal，Wordpress等，但不支持Yii2项目。\n网上有现成的 "),a("a",{attrs:{href:"https://github.com/incodenz/yii2-valet-driver",target:"_blank",rel:"noopener noreferrer"}},[e._v("驱动"),a("OutboundLink")],1),e._v(" 实际就是告诉Valet项目的项目的根目录在哪。\n比如有一个Yii2的项目，绝对路径是"),a("code",[e._v("~/sites/gee")]),e._v("\n来到"),a("code",[e._v("~/sites/gee/frontend/web")]),e._v(" 这是Yii2项目默认的前台入口目录，执行  "),a("code",[e._v("valet link gee")]),e._v("\n再来到"),a("code",[e._v("~/sites/gee/backend/web")]),e._v(" 执行  "),a("code",[e._v("valet link admin.gee")]),e._v("\n我们就可以通过"),a("code",[e._v("http://gee.test")]),e._v("打开前台，"),a("code",[e._v("http://admin.gee.test")]),e._v("打开后台")]),e._v(" "),a("h5",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考：")]),e._v(" "),a("p",[e._v("https://learnku.com/docs/laravel/5.6/valet/1356#the-park-command")])])}),[],!1,null,null,null);t.default=v.exports}}]);