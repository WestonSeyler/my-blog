<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>wjn 的技术博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="my-blog/distfavicon.ico">
    <meta name="description" content="Laravel,Laravel教程,Jenkins系列教程,Docker系列教程,开发基础">
    <meta name="robots" content="all">
    <meta name="author" content="FinleyMa">
    <meta name="keywords" content="Laravel,Laravel教程,Jenkins系列教程,Docker系列教程,开发基础">
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <link rel="preload" href="my-blog/dist/assets/css/0.styles.55bbd37e.css" as="style"><link rel="preload" href="my-blog/dist/assets/js/app.f1043fdb.js" as="script"><link rel="preload" href="my-blog/dist/assets/js/2.4ddc0231.js" as="script"><link rel="preload" href="my-blog/dist/assets/js/320.7b527dbf.js" as="script"><link rel="prefetch" href="my-blog/dist/assets/js/10.db3e7bcc.js"><link rel="prefetch" href="my-blog/dist/assets/js/100.0fd373ff.js"><link rel="prefetch" href="my-blog/dist/assets/js/101.adb05db9.js"><link rel="prefetch" href="my-blog/dist/assets/js/102.4f0ac151.js"><link rel="prefetch" href="my-blog/dist/assets/js/103.58257f23.js"><link rel="prefetch" href="my-blog/dist/assets/js/104.7e8629ef.js"><link rel="prefetch" href="my-blog/dist/assets/js/105.21fabcbb.js"><link rel="prefetch" href="my-blog/dist/assets/js/106.2bda0dde.js"><link rel="prefetch" href="my-blog/dist/assets/js/107.940a998e.js"><link rel="prefetch" href="my-blog/dist/assets/js/108.ba52068e.js"><link rel="prefetch" href="my-blog/dist/assets/js/109.6e0fff67.js"><link rel="prefetch" href="my-blog/dist/assets/js/11.ff04e02a.js"><link rel="prefetch" href="my-blog/dist/assets/js/110.cdeee08a.js"><link rel="prefetch" href="my-blog/dist/assets/js/111.bd30d438.js"><link rel="prefetch" href="my-blog/dist/assets/js/112.46aa52a8.js"><link rel="prefetch" href="my-blog/dist/assets/js/113.3ee1fa1d.js"><link rel="prefetch" href="my-blog/dist/assets/js/114.0f28cf26.js"><link rel="prefetch" href="my-blog/dist/assets/js/115.f25ca8c6.js"><link rel="prefetch" href="my-blog/dist/assets/js/116.1c844afa.js"><link rel="prefetch" href="my-blog/dist/assets/js/117.193abeca.js"><link rel="prefetch" href="my-blog/dist/assets/js/118.5ca0c8fc.js"><link rel="prefetch" href="my-blog/dist/assets/js/119.ac091d17.js"><link rel="prefetch" href="my-blog/dist/assets/js/12.c1c0ee53.js"><link rel="prefetch" href="my-blog/dist/assets/js/120.5380ca1c.js"><link rel="prefetch" href="my-blog/dist/assets/js/121.765261a4.js"><link rel="prefetch" href="my-blog/dist/assets/js/122.82c8b8a8.js"><link rel="prefetch" href="my-blog/dist/assets/js/123.24cb1ccd.js"><link rel="prefetch" href="my-blog/dist/assets/js/124.97510870.js"><link rel="prefetch" href="my-blog/dist/assets/js/125.94e5a6ff.js"><link rel="prefetch" href="my-blog/dist/assets/js/126.1851da7b.js"><link rel="prefetch" href="my-blog/dist/assets/js/127.55bce272.js"><link rel="prefetch" href="my-blog/dist/assets/js/128.c054196a.js"><link rel="prefetch" href="my-blog/dist/assets/js/129.ee955ae7.js"><link rel="prefetch" href="my-blog/dist/assets/js/13.35e3d8b7.js"><link rel="prefetch" href="my-blog/dist/assets/js/130.056b942d.js"><link rel="prefetch" href="my-blog/dist/assets/js/131.90a61bed.js"><link rel="prefetch" href="my-blog/dist/assets/js/132.2463271e.js"><link rel="prefetch" href="my-blog/dist/assets/js/133.a6723ed1.js"><link rel="prefetch" href="my-blog/dist/assets/js/134.8b453917.js"><link rel="prefetch" href="my-blog/dist/assets/js/135.1cbc4f93.js"><link rel="prefetch" href="my-blog/dist/assets/js/136.7fbef0a9.js"><link rel="prefetch" href="my-blog/dist/assets/js/137.2295709f.js"><link rel="prefetch" href="my-blog/dist/assets/js/138.99b1a101.js"><link rel="prefetch" href="my-blog/dist/assets/js/139.b517602d.js"><link rel="prefetch" href="my-blog/dist/assets/js/14.1d4a6a89.js"><link rel="prefetch" href="my-blog/dist/assets/js/140.b45e238c.js"><link rel="prefetch" href="my-blog/dist/assets/js/141.14065acd.js"><link rel="prefetch" href="my-blog/dist/assets/js/142.91ecd97f.js"><link rel="prefetch" href="my-blog/dist/assets/js/143.1dd22988.js"><link rel="prefetch" href="my-blog/dist/assets/js/144.e74f7baf.js"><link rel="prefetch" href="my-blog/dist/assets/js/145.db2b6018.js"><link rel="prefetch" href="my-blog/dist/assets/js/146.7e757b1c.js"><link rel="prefetch" href="my-blog/dist/assets/js/147.982eea45.js"><link rel="prefetch" href="my-blog/dist/assets/js/148.caedc1ed.js"><link rel="prefetch" href="my-blog/dist/assets/js/149.2661a1ce.js"><link rel="prefetch" href="my-blog/dist/assets/js/15.ec0bd892.js"><link rel="prefetch" href="my-blog/dist/assets/js/150.e88e9677.js"><link rel="prefetch" href="my-blog/dist/assets/js/151.314af0eb.js"><link rel="prefetch" href="my-blog/dist/assets/js/152.463a2b76.js"><link rel="prefetch" href="my-blog/dist/assets/js/153.313a501d.js"><link rel="prefetch" href="my-blog/dist/assets/js/154.261dd12c.js"><link rel="prefetch" href="my-blog/dist/assets/js/155.bdca497e.js"><link rel="prefetch" href="my-blog/dist/assets/js/156.4838b6e1.js"><link rel="prefetch" href="my-blog/dist/assets/js/157.7c82d29e.js"><link rel="prefetch" href="my-blog/dist/assets/js/158.583e9ff4.js"><link rel="prefetch" href="my-blog/dist/assets/js/159.8efb036e.js"><link rel="prefetch" href="my-blog/dist/assets/js/16.84f94ece.js"><link rel="prefetch" href="my-blog/dist/assets/js/160.7883d5f2.js"><link rel="prefetch" href="my-blog/dist/assets/js/161.e1b595f5.js"><link rel="prefetch" href="my-blog/dist/assets/js/162.86f1022d.js"><link rel="prefetch" href="my-blog/dist/assets/js/163.61eaa19d.js"><link rel="prefetch" href="my-blog/dist/assets/js/164.45e2ce43.js"><link rel="prefetch" href="my-blog/dist/assets/js/165.4fb6a3cf.js"><link rel="prefetch" href="my-blog/dist/assets/js/166.73efb1b5.js"><link rel="prefetch" href="my-blog/dist/assets/js/167.e4988709.js"><link rel="prefetch" href="my-blog/dist/assets/js/168.c2295486.js"><link rel="prefetch" href="my-blog/dist/assets/js/169.3b00b06a.js"><link rel="prefetch" href="my-blog/dist/assets/js/17.1bc4b912.js"><link rel="prefetch" href="my-blog/dist/assets/js/170.1df03966.js"><link rel="prefetch" href="my-blog/dist/assets/js/171.fc9d4305.js"><link rel="prefetch" href="my-blog/dist/assets/js/172.0a9a06a1.js"><link rel="prefetch" href="my-blog/dist/assets/js/173.e7eadc2f.js"><link rel="prefetch" href="my-blog/dist/assets/js/174.f16cacfa.js"><link rel="prefetch" href="my-blog/dist/assets/js/175.e80e959c.js"><link rel="prefetch" href="my-blog/dist/assets/js/176.08f38e63.js"><link rel="prefetch" href="my-blog/dist/assets/js/177.49eedddf.js"><link rel="prefetch" href="my-blog/dist/assets/js/178.c8c3827c.js"><link rel="prefetch" href="my-blog/dist/assets/js/179.12c147f1.js"><link rel="prefetch" href="my-blog/dist/assets/js/18.7fb1f459.js"><link rel="prefetch" href="my-blog/dist/assets/js/180.6aaa7141.js"><link rel="prefetch" href="my-blog/dist/assets/js/181.a560f03a.js"><link rel="prefetch" href="my-blog/dist/assets/js/182.f91f19e1.js"><link rel="prefetch" href="my-blog/dist/assets/js/183.88225885.js"><link rel="prefetch" href="my-blog/dist/assets/js/184.8e5948b2.js"><link rel="prefetch" href="my-blog/dist/assets/js/185.973f8230.js"><link rel="prefetch" href="my-blog/dist/assets/js/186.7f2f482f.js"><link rel="prefetch" href="my-blog/dist/assets/js/187.f6623130.js"><link rel="prefetch" href="my-blog/dist/assets/js/188.56396a35.js"><link rel="prefetch" href="my-blog/dist/assets/js/189.e3e19e6e.js"><link rel="prefetch" href="my-blog/dist/assets/js/19.da65c5c9.js"><link rel="prefetch" href="my-blog/dist/assets/js/190.a1fd09b9.js"><link rel="prefetch" href="my-blog/dist/assets/js/191.81d34201.js"><link rel="prefetch" href="my-blog/dist/assets/js/192.1a14edfd.js"><link rel="prefetch" href="my-blog/dist/assets/js/193.b3379f13.js"><link rel="prefetch" href="my-blog/dist/assets/js/194.f2cde0ab.js"><link rel="prefetch" href="my-blog/dist/assets/js/195.b21f88da.js"><link rel="prefetch" href="my-blog/dist/assets/js/196.b270ee1c.js"><link rel="prefetch" href="my-blog/dist/assets/js/197.36705cc8.js"><link rel="prefetch" href="my-blog/dist/assets/js/198.c14050ff.js"><link rel="prefetch" href="my-blog/dist/assets/js/199.d324f098.js"><link rel="prefetch" href="my-blog/dist/assets/js/20.dd79e740.js"><link rel="prefetch" href="my-blog/dist/assets/js/200.3538b156.js"><link rel="prefetch" href="my-blog/dist/assets/js/201.d136418b.js"><link rel="prefetch" href="my-blog/dist/assets/js/202.55ab6c15.js"><link rel="prefetch" href="my-blog/dist/assets/js/203.0c28a155.js"><link rel="prefetch" href="my-blog/dist/assets/js/204.a2e37bdd.js"><link rel="prefetch" href="my-blog/dist/assets/js/205.ccb2543a.js"><link rel="prefetch" href="my-blog/dist/assets/js/206.68796221.js"><link rel="prefetch" href="my-blog/dist/assets/js/207.2d42ee62.js"><link rel="prefetch" href="my-blog/dist/assets/js/208.3982ae73.js"><link rel="prefetch" href="my-blog/dist/assets/js/209.55a76651.js"><link rel="prefetch" href="my-blog/dist/assets/js/21.5a4ab40a.js"><link rel="prefetch" href="my-blog/dist/assets/js/210.daaababd.js"><link rel="prefetch" href="my-blog/dist/assets/js/211.252507c3.js"><link rel="prefetch" href="my-blog/dist/assets/js/212.5cd55f0c.js"><link rel="prefetch" href="my-blog/dist/assets/js/213.12e4c5bd.js"><link rel="prefetch" href="my-blog/dist/assets/js/214.03cc1351.js"><link rel="prefetch" href="my-blog/dist/assets/js/215.387f2687.js"><link rel="prefetch" href="my-blog/dist/assets/js/216.b43394bd.js"><link rel="prefetch" href="my-blog/dist/assets/js/217.dbf2f2bb.js"><link rel="prefetch" href="my-blog/dist/assets/js/218.5da90484.js"><link rel="prefetch" href="my-blog/dist/assets/js/219.c9699e08.js"><link rel="prefetch" href="my-blog/dist/assets/js/22.30c434cc.js"><link rel="prefetch" href="my-blog/dist/assets/js/220.8ee09462.js"><link rel="prefetch" href="my-blog/dist/assets/js/221.160a5272.js"><link rel="prefetch" href="my-blog/dist/assets/js/222.cae4d61c.js"><link rel="prefetch" href="my-blog/dist/assets/js/223.560aa9c0.js"><link rel="prefetch" href="my-blog/dist/assets/js/224.fa261eaf.js"><link rel="prefetch" href="my-blog/dist/assets/js/225.bf47f85c.js"><link rel="prefetch" href="my-blog/dist/assets/js/226.2a72ec47.js"><link rel="prefetch" href="my-blog/dist/assets/js/227.795f8303.js"><link rel="prefetch" href="my-blog/dist/assets/js/228.0c383636.js"><link rel="prefetch" href="my-blog/dist/assets/js/229.72ce21ed.js"><link rel="prefetch" href="my-blog/dist/assets/js/23.b74ba880.js"><link rel="prefetch" href="my-blog/dist/assets/js/230.997eaf60.js"><link rel="prefetch" href="my-blog/dist/assets/js/231.61929dad.js"><link rel="prefetch" href="my-blog/dist/assets/js/232.fc938d6e.js"><link rel="prefetch" href="my-blog/dist/assets/js/233.0e3211d1.js"><link rel="prefetch" href="my-blog/dist/assets/js/234.619c0f3a.js"><link rel="prefetch" href="my-blog/dist/assets/js/235.f45c0898.js"><link rel="prefetch" href="my-blog/dist/assets/js/236.b131b084.js"><link rel="prefetch" href="my-blog/dist/assets/js/237.9a8c9f63.js"><link rel="prefetch" href="my-blog/dist/assets/js/238.38ee5d84.js"><link rel="prefetch" href="my-blog/dist/assets/js/239.5807bb22.js"><link rel="prefetch" href="my-blog/dist/assets/js/24.d78d8702.js"><link rel="prefetch" href="my-blog/dist/assets/js/240.1d306703.js"><link rel="prefetch" href="my-blog/dist/assets/js/241.0678953e.js"><link rel="prefetch" href="my-blog/dist/assets/js/242.3814e81d.js"><link rel="prefetch" href="my-blog/dist/assets/js/243.5354fa9a.js"><link rel="prefetch" href="my-blog/dist/assets/js/244.dd5ad6b6.js"><link rel="prefetch" href="my-blog/dist/assets/js/245.5cb72319.js"><link rel="prefetch" href="my-blog/dist/assets/js/246.e7315fb4.js"><link rel="prefetch" href="my-blog/dist/assets/js/247.f5e57aa2.js"><link rel="prefetch" href="my-blog/dist/assets/js/248.70ba4622.js"><link rel="prefetch" href="my-blog/dist/assets/js/249.18fc9801.js"><link rel="prefetch" href="my-blog/dist/assets/js/25.68922aa6.js"><link rel="prefetch" href="my-blog/dist/assets/js/250.20e2431d.js"><link rel="prefetch" href="my-blog/dist/assets/js/251.4aef33ff.js"><link rel="prefetch" href="my-blog/dist/assets/js/252.13d0b271.js"><link rel="prefetch" href="my-blog/dist/assets/js/253.a66d4272.js"><link rel="prefetch" href="my-blog/dist/assets/js/254.4f028e42.js"><link rel="prefetch" href="my-blog/dist/assets/js/255.e91e4189.js"><link rel="prefetch" href="my-blog/dist/assets/js/256.2ac7702e.js"><link rel="prefetch" href="my-blog/dist/assets/js/257.ba18f408.js"><link rel="prefetch" href="my-blog/dist/assets/js/258.670ea350.js"><link rel="prefetch" href="my-blog/dist/assets/js/259.508a8595.js"><link rel="prefetch" href="my-blog/dist/assets/js/26.3c5612e0.js"><link rel="prefetch" href="my-blog/dist/assets/js/260.a9145b29.js"><link rel="prefetch" href="my-blog/dist/assets/js/261.bb5c05e2.js"><link rel="prefetch" href="my-blog/dist/assets/js/262.088f2b5f.js"><link rel="prefetch" href="my-blog/dist/assets/js/263.6af7ca8e.js"><link rel="prefetch" href="my-blog/dist/assets/js/264.bc7395b7.js"><link rel="prefetch" href="my-blog/dist/assets/js/265.e6e9bd1a.js"><link rel="prefetch" href="my-blog/dist/assets/js/266.a101c29f.js"><link rel="prefetch" href="my-blog/dist/assets/js/267.16435652.js"><link rel="prefetch" href="my-blog/dist/assets/js/268.0ea82a27.js"><link rel="prefetch" href="my-blog/dist/assets/js/269.12fcc6a4.js"><link rel="prefetch" href="my-blog/dist/assets/js/27.110ec5af.js"><link rel="prefetch" href="my-blog/dist/assets/js/270.a9b2391a.js"><link rel="prefetch" href="my-blog/dist/assets/js/271.b0558363.js"><link rel="prefetch" href="my-blog/dist/assets/js/272.bf524053.js"><link rel="prefetch" href="my-blog/dist/assets/js/273.af04077b.js"><link rel="prefetch" href="my-blog/dist/assets/js/274.fbd4ee17.js"><link rel="prefetch" href="my-blog/dist/assets/js/275.b5fc0eb9.js"><link rel="prefetch" href="my-blog/dist/assets/js/276.534e06d6.js"><link rel="prefetch" href="my-blog/dist/assets/js/277.62c872e2.js"><link rel="prefetch" href="my-blog/dist/assets/js/278.5d032411.js"><link rel="prefetch" href="my-blog/dist/assets/js/279.175bc356.js"><link rel="prefetch" href="my-blog/dist/assets/js/28.d50be495.js"><link rel="prefetch" href="my-blog/dist/assets/js/280.9154247a.js"><link rel="prefetch" href="my-blog/dist/assets/js/281.c6882635.js"><link rel="prefetch" href="my-blog/dist/assets/js/282.96a1739c.js"><link rel="prefetch" href="my-blog/dist/assets/js/283.656bf2c9.js"><link rel="prefetch" href="my-blog/dist/assets/js/284.f8ea8563.js"><link rel="prefetch" href="my-blog/dist/assets/js/285.76e453dd.js"><link rel="prefetch" href="my-blog/dist/assets/js/286.594807cf.js"><link rel="prefetch" href="my-blog/dist/assets/js/287.1bf16e59.js"><link rel="prefetch" href="my-blog/dist/assets/js/288.90d300fe.js"><link rel="prefetch" href="my-blog/dist/assets/js/289.689883a2.js"><link rel="prefetch" href="my-blog/dist/assets/js/29.3fc7a099.js"><link rel="prefetch" href="my-blog/dist/assets/js/290.0ddeb89c.js"><link rel="prefetch" href="my-blog/dist/assets/js/291.1b601508.js"><link rel="prefetch" href="my-blog/dist/assets/js/292.b3a73d69.js"><link rel="prefetch" href="my-blog/dist/assets/js/293.5153c10c.js"><link rel="prefetch" href="my-blog/dist/assets/js/294.d4740314.js"><link rel="prefetch" href="my-blog/dist/assets/js/295.0134cab7.js"><link rel="prefetch" href="my-blog/dist/assets/js/296.65664647.js"><link rel="prefetch" href="my-blog/dist/assets/js/297.56a28a85.js"><link rel="prefetch" href="my-blog/dist/assets/js/298.8eee95b4.js"><link rel="prefetch" href="my-blog/dist/assets/js/299.46b596cc.js"><link rel="prefetch" href="my-blog/dist/assets/js/3.c77f2b59.js"><link rel="prefetch" href="my-blog/dist/assets/js/30.6132d70e.js"><link rel="prefetch" href="my-blog/dist/assets/js/300.975248ca.js"><link rel="prefetch" href="my-blog/dist/assets/js/301.2a6ac71c.js"><link rel="prefetch" href="my-blog/dist/assets/js/302.136b7986.js"><link rel="prefetch" href="my-blog/dist/assets/js/303.a1fde858.js"><link rel="prefetch" href="my-blog/dist/assets/js/304.a9255157.js"><link rel="prefetch" href="my-blog/dist/assets/js/305.e763819e.js"><link rel="prefetch" href="my-blog/dist/assets/js/306.44e64a95.js"><link rel="prefetch" href="my-blog/dist/assets/js/307.0349c505.js"><link rel="prefetch" href="my-blog/dist/assets/js/308.1f9078a8.js"><link rel="prefetch" href="my-blog/dist/assets/js/309.b88054e8.js"><link rel="prefetch" href="my-blog/dist/assets/js/31.dd2ba099.js"><link rel="prefetch" href="my-blog/dist/assets/js/310.998b867e.js"><link rel="prefetch" href="my-blog/dist/assets/js/311.456fd4b5.js"><link rel="prefetch" href="my-blog/dist/assets/js/312.55713e2a.js"><link rel="prefetch" href="my-blog/dist/assets/js/313.2dda25b9.js"><link rel="prefetch" href="my-blog/dist/assets/js/314.e0c70523.js"><link rel="prefetch" href="my-blog/dist/assets/js/315.ac1f7eb4.js"><link rel="prefetch" href="my-blog/dist/assets/js/316.c56a36d7.js"><link rel="prefetch" href="my-blog/dist/assets/js/317.8350a686.js"><link rel="prefetch" href="my-blog/dist/assets/js/318.d116f70d.js"><link rel="prefetch" href="my-blog/dist/assets/js/319.749eede2.js"><link rel="prefetch" href="my-blog/dist/assets/js/32.7ee2abe3.js"><link rel="prefetch" href="my-blog/dist/assets/js/321.41cccb0e.js"><link rel="prefetch" href="my-blog/dist/assets/js/322.47fd6256.js"><link rel="prefetch" href="my-blog/dist/assets/js/323.43029840.js"><link rel="prefetch" href="my-blog/dist/assets/js/324.b631aff8.js"><link rel="prefetch" href="my-blog/dist/assets/js/325.74ed53ca.js"><link rel="prefetch" href="my-blog/dist/assets/js/326.5de8d93d.js"><link rel="prefetch" href="my-blog/dist/assets/js/327.47c0514d.js"><link rel="prefetch" href="my-blog/dist/assets/js/328.aa21cb48.js"><link rel="prefetch" href="my-blog/dist/assets/js/329.7231ea2e.js"><link rel="prefetch" href="my-blog/dist/assets/js/33.86d2356f.js"><link rel="prefetch" href="my-blog/dist/assets/js/330.9513613c.js"><link rel="prefetch" href="my-blog/dist/assets/js/331.6bc94c35.js"><link rel="prefetch" href="my-blog/dist/assets/js/332.fcfc933a.js"><link rel="prefetch" href="my-blog/dist/assets/js/333.1e34cd42.js"><link rel="prefetch" href="my-blog/dist/assets/js/334.39515694.js"><link rel="prefetch" href="my-blog/dist/assets/js/335.3b5df9d4.js"><link rel="prefetch" href="my-blog/dist/assets/js/336.25c785f1.js"><link rel="prefetch" href="my-blog/dist/assets/js/337.5b670aa6.js"><link rel="prefetch" href="my-blog/dist/assets/js/338.448d775a.js"><link rel="prefetch" href="my-blog/dist/assets/js/339.49860621.js"><link rel="prefetch" href="my-blog/dist/assets/js/34.16ff4a3c.js"><link rel="prefetch" href="my-blog/dist/assets/js/340.f7b39034.js"><link rel="prefetch" href="my-blog/dist/assets/js/341.0104d8bf.js"><link rel="prefetch" href="my-blog/dist/assets/js/342.de1b1d4a.js"><link rel="prefetch" href="my-blog/dist/assets/js/343.c15f107a.js"><link rel="prefetch" href="my-blog/dist/assets/js/344.57bdda34.js"><link rel="prefetch" href="my-blog/dist/assets/js/345.9dcf3437.js"><link rel="prefetch" href="my-blog/dist/assets/js/346.4770ccfd.js"><link rel="prefetch" href="my-blog/dist/assets/js/347.9cfe5f8e.js"><link rel="prefetch" href="my-blog/dist/assets/js/348.54e2824d.js"><link rel="prefetch" href="my-blog/dist/assets/js/349.7b7fe1ed.js"><link rel="prefetch" href="my-blog/dist/assets/js/35.69056be5.js"><link rel="prefetch" href="my-blog/dist/assets/js/350.7847ec3d.js"><link rel="prefetch" href="my-blog/dist/assets/js/351.ff6f1cd2.js"><link rel="prefetch" href="my-blog/dist/assets/js/352.447674a7.js"><link rel="prefetch" href="my-blog/dist/assets/js/353.7fce658a.js"><link rel="prefetch" href="my-blog/dist/assets/js/354.2c935325.js"><link rel="prefetch" href="my-blog/dist/assets/js/355.29934baf.js"><link rel="prefetch" href="my-blog/dist/assets/js/356.9f50b301.js"><link rel="prefetch" href="my-blog/dist/assets/js/357.4b5b6b96.js"><link rel="prefetch" href="my-blog/dist/assets/js/358.19783640.js"><link rel="prefetch" href="my-blog/dist/assets/js/359.de721a1a.js"><link rel="prefetch" href="my-blog/dist/assets/js/36.8337dc19.js"><link rel="prefetch" href="my-blog/dist/assets/js/360.e7c8f4a9.js"><link rel="prefetch" href="my-blog/dist/assets/js/361.2fc3ceea.js"><link rel="prefetch" href="my-blog/dist/assets/js/362.3a141e33.js"><link rel="prefetch" href="my-blog/dist/assets/js/363.1803cd70.js"><link rel="prefetch" href="my-blog/dist/assets/js/364.26f92db8.js"><link rel="prefetch" href="my-blog/dist/assets/js/365.2c57f1d0.js"><link rel="prefetch" href="my-blog/dist/assets/js/366.48d674c4.js"><link rel="prefetch" href="my-blog/dist/assets/js/367.75197a82.js"><link rel="prefetch" href="my-blog/dist/assets/js/368.585cee6a.js"><link rel="prefetch" href="my-blog/dist/assets/js/369.cd8ad1a7.js"><link rel="prefetch" href="my-blog/dist/assets/js/37.e02f5603.js"><link rel="prefetch" href="my-blog/dist/assets/js/370.21fd9d59.js"><link rel="prefetch" href="my-blog/dist/assets/js/371.700973aa.js"><link rel="prefetch" href="my-blog/dist/assets/js/372.cf76c169.js"><link rel="prefetch" href="my-blog/dist/assets/js/373.cedb3394.js"><link rel="prefetch" href="my-blog/dist/assets/js/374.1421bd29.js"><link rel="prefetch" href="my-blog/dist/assets/js/375.eb1bf789.js"><link rel="prefetch" href="my-blog/dist/assets/js/376.b7c5df55.js"><link rel="prefetch" href="my-blog/dist/assets/js/377.ecd948d7.js"><link rel="prefetch" href="my-blog/dist/assets/js/378.9390af60.js"><link rel="prefetch" href="my-blog/dist/assets/js/379.378cab85.js"><link rel="prefetch" href="my-blog/dist/assets/js/38.59948466.js"><link rel="prefetch" href="my-blog/dist/assets/js/380.f780b16f.js"><link rel="prefetch" href="my-blog/dist/assets/js/381.dafa0861.js"><link rel="prefetch" href="my-blog/dist/assets/js/382.92311175.js"><link rel="prefetch" href="my-blog/dist/assets/js/383.5f7b7316.js"><link rel="prefetch" href="my-blog/dist/assets/js/384.7039e3bb.js"><link rel="prefetch" href="my-blog/dist/assets/js/385.49cf4cec.js"><link rel="prefetch" href="my-blog/dist/assets/js/386.e174379b.js"><link rel="prefetch" href="my-blog/dist/assets/js/387.ed6162be.js"><link rel="prefetch" href="my-blog/dist/assets/js/388.95cc6838.js"><link rel="prefetch" href="my-blog/dist/assets/js/389.240cdfb8.js"><link rel="prefetch" href="my-blog/dist/assets/js/39.66a52b8a.js"><link rel="prefetch" href="my-blog/dist/assets/js/390.9928decc.js"><link rel="prefetch" href="my-blog/dist/assets/js/391.f41425c9.js"><link rel="prefetch" href="my-blog/dist/assets/js/392.1ec13a14.js"><link rel="prefetch" href="my-blog/dist/assets/js/393.93ba9bcd.js"><link rel="prefetch" href="my-blog/dist/assets/js/394.3123874c.js"><link rel="prefetch" href="my-blog/dist/assets/js/395.1ae3a136.js"><link rel="prefetch" href="my-blog/dist/assets/js/396.50c72809.js"><link rel="prefetch" href="my-blog/dist/assets/js/397.7c7a589c.js"><link rel="prefetch" href="my-blog/dist/assets/js/398.1b25287d.js"><link rel="prefetch" href="my-blog/dist/assets/js/399.f792d85b.js"><link rel="prefetch" href="my-blog/dist/assets/js/4.e6484489.js"><link rel="prefetch" href="my-blog/dist/assets/js/40.291becf4.js"><link rel="prefetch" href="my-blog/dist/assets/js/400.6b857359.js"><link rel="prefetch" href="my-blog/dist/assets/js/401.96a19d21.js"><link rel="prefetch" href="my-blog/dist/assets/js/402.71a52874.js"><link rel="prefetch" href="my-blog/dist/assets/js/403.745bfef4.js"><link rel="prefetch" href="my-blog/dist/assets/js/404.4da79997.js"><link rel="prefetch" href="my-blog/dist/assets/js/405.58c690a7.js"><link rel="prefetch" href="my-blog/dist/assets/js/406.0a0ee720.js"><link rel="prefetch" href="my-blog/dist/assets/js/407.ddd8492b.js"><link rel="prefetch" href="my-blog/dist/assets/js/408.ac3a4043.js"><link rel="prefetch" href="my-blog/dist/assets/js/409.d35f37c6.js"><link rel="prefetch" href="my-blog/dist/assets/js/41.03bacb63.js"><link rel="prefetch" href="my-blog/dist/assets/js/410.2536cfd7.js"><link rel="prefetch" href="my-blog/dist/assets/js/411.5bbfb122.js"><link rel="prefetch" href="my-blog/dist/assets/js/412.18306d17.js"><link rel="prefetch" href="my-blog/dist/assets/js/413.8102cb0a.js"><link rel="prefetch" href="my-blog/dist/assets/js/414.7f12454a.js"><link rel="prefetch" href="my-blog/dist/assets/js/415.c11afa56.js"><link rel="prefetch" href="my-blog/dist/assets/js/416.58d23e07.js"><link rel="prefetch" href="my-blog/dist/assets/js/417.d98b5f01.js"><link rel="prefetch" href="my-blog/dist/assets/js/418.afe82272.js"><link rel="prefetch" href="my-blog/dist/assets/js/419.1b3e4abb.js"><link rel="prefetch" href="my-blog/dist/assets/js/42.68448d09.js"><link rel="prefetch" href="my-blog/dist/assets/js/420.dbbd58e0.js"><link rel="prefetch" href="my-blog/dist/assets/js/421.d00b5934.js"><link rel="prefetch" href="my-blog/dist/assets/js/422.168c937d.js"><link rel="prefetch" href="my-blog/dist/assets/js/423.b93501a0.js"><link rel="prefetch" href="my-blog/dist/assets/js/424.3d68b863.js"><link rel="prefetch" href="my-blog/dist/assets/js/425.802beb32.js"><link rel="prefetch" href="my-blog/dist/assets/js/426.e8fc74ec.js"><link rel="prefetch" href="my-blog/dist/assets/js/427.ac0e8895.js"><link rel="prefetch" href="my-blog/dist/assets/js/428.d605da4b.js"><link rel="prefetch" href="my-blog/dist/assets/js/429.c592a579.js"><link rel="prefetch" href="my-blog/dist/assets/js/43.47906e90.js"><link rel="prefetch" href="my-blog/dist/assets/js/430.6327d9bf.js"><link rel="prefetch" href="my-blog/dist/assets/js/431.920c4c2b.js"><link rel="prefetch" href="my-blog/dist/assets/js/432.4a951242.js"><link rel="prefetch" href="my-blog/dist/assets/js/44.e2f94504.js"><link rel="prefetch" href="my-blog/dist/assets/js/45.2eea7ab5.js"><link rel="prefetch" href="my-blog/dist/assets/js/46.0232b756.js"><link rel="prefetch" href="my-blog/dist/assets/js/47.11eada17.js"><link rel="prefetch" href="my-blog/dist/assets/js/48.59592dcd.js"><link rel="prefetch" href="my-blog/dist/assets/js/49.b7d8a3a4.js"><link rel="prefetch" href="my-blog/dist/assets/js/5.4e56f724.js"><link rel="prefetch" href="my-blog/dist/assets/js/50.aafcc2ef.js"><link rel="prefetch" href="my-blog/dist/assets/js/51.58e08dda.js"><link rel="prefetch" href="my-blog/dist/assets/js/52.9092d81c.js"><link rel="prefetch" href="my-blog/dist/assets/js/53.01ad4b15.js"><link rel="prefetch" href="my-blog/dist/assets/js/54.3e6aed52.js"><link rel="prefetch" href="my-blog/dist/assets/js/55.af70bde7.js"><link rel="prefetch" href="my-blog/dist/assets/js/56.2cc149e4.js"><link rel="prefetch" href="my-blog/dist/assets/js/57.62d0eb6f.js"><link rel="prefetch" href="my-blog/dist/assets/js/58.8734838d.js"><link rel="prefetch" href="my-blog/dist/assets/js/59.4301e519.js"><link rel="prefetch" href="my-blog/dist/assets/js/6.0670fb71.js"><link rel="prefetch" href="my-blog/dist/assets/js/60.c4bdbc09.js"><link rel="prefetch" href="my-blog/dist/assets/js/61.4b7001c8.js"><link rel="prefetch" href="my-blog/dist/assets/js/62.6ecf8364.js"><link rel="prefetch" href="my-blog/dist/assets/js/63.eda934c7.js"><link rel="prefetch" href="my-blog/dist/assets/js/64.242110e6.js"><link rel="prefetch" href="my-blog/dist/assets/js/65.e888c4b0.js"><link rel="prefetch" href="my-blog/dist/assets/js/66.c1fdc808.js"><link rel="prefetch" href="my-blog/dist/assets/js/67.37a656ac.js"><link rel="prefetch" href="my-blog/dist/assets/js/68.467d89be.js"><link rel="prefetch" href="my-blog/dist/assets/js/69.c6e8c724.js"><link rel="prefetch" href="my-blog/dist/assets/js/7.d04e169d.js"><link rel="prefetch" href="my-blog/dist/assets/js/70.68023e17.js"><link rel="prefetch" href="my-blog/dist/assets/js/71.e14c0ef6.js"><link rel="prefetch" href="my-blog/dist/assets/js/72.70d38aba.js"><link rel="prefetch" href="my-blog/dist/assets/js/73.476b6614.js"><link rel="prefetch" href="my-blog/dist/assets/js/74.389420cb.js"><link rel="prefetch" href="my-blog/dist/assets/js/75.7d6be135.js"><link rel="prefetch" href="my-blog/dist/assets/js/76.a76b4f8e.js"><link rel="prefetch" href="my-blog/dist/assets/js/77.f17605a7.js"><link rel="prefetch" href="my-blog/dist/assets/js/78.20b92345.js"><link rel="prefetch" href="my-blog/dist/assets/js/79.e12d940a.js"><link rel="prefetch" href="my-blog/dist/assets/js/8.0704b4de.js"><link rel="prefetch" href="my-blog/dist/assets/js/80.3a879322.js"><link rel="prefetch" href="my-blog/dist/assets/js/81.a321731f.js"><link rel="prefetch" href="my-blog/dist/assets/js/82.d1e82e50.js"><link rel="prefetch" href="my-blog/dist/assets/js/83.bd3deb5b.js"><link rel="prefetch" href="my-blog/dist/assets/js/84.c78669bc.js"><link rel="prefetch" href="my-blog/dist/assets/js/85.510838d4.js"><link rel="prefetch" href="my-blog/dist/assets/js/86.68384b14.js"><link rel="prefetch" href="my-blog/dist/assets/js/87.a897fae7.js"><link rel="prefetch" href="my-blog/dist/assets/js/88.55d61fc9.js"><link rel="prefetch" href="my-blog/dist/assets/js/89.6f43d452.js"><link rel="prefetch" href="my-blog/dist/assets/js/9.233990ed.js"><link rel="prefetch" href="my-blog/dist/assets/js/90.4e6fd6e0.js"><link rel="prefetch" href="my-blog/dist/assets/js/91.97dfa15f.js"><link rel="prefetch" href="my-blog/dist/assets/js/92.d4a95693.js"><link rel="prefetch" href="my-blog/dist/assets/js/93.06d2c7c8.js"><link rel="prefetch" href="my-blog/dist/assets/js/94.668eca5f.js"><link rel="prefetch" href="my-blog/dist/assets/js/95.a893bd86.js"><link rel="prefetch" href="my-blog/dist/assets/js/96.163a49af.js"><link rel="prefetch" href="my-blog/dist/assets/js/97.f7ebd651.js"><link rel="prefetch" href="my-blog/dist/assets/js/98.f1a6f9fc.js"><link rel="prefetch" href="my-blog/dist/assets/js/99.1158c1f0.js">
    <link rel="stylesheet" href="my-blog/dist/assets/css/0.styles.55bbd37e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/my-blog/dist/" class="home-link router-link-active"><!----> <span class="site-name">wjn 的技术博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CI/CD" class="dropdown-title"><span class="title">CI/CD</span> <span class="arrow down"></span></button> <button type="button" aria-label="CI/CD" class="mobile-dropdown-title"><span class="title">CI/CD</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my-blog/dist/DevOps/Jenkins/Jenkins2-学习系列1----使用Docker方式安装最新版Jenkins.html" class="nav-link">
  Jenkins
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/dist/DevOps/Docker/Docker-学习系列1--使用-Docker-快速实现多版本PHP切换.html" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/dist/DevOps/Ansible/Ansible-2----1-介绍与使用场景.html" class="nav-link">
  Ansible
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/dist/DevOps/GithubActions/入门.html" class="nav-link">
  Github Actions
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/dist/DevOps/Linux/SSH--技巧.html" class="nav-link">
  Linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tools" class="dropdown-title"><span class="title">Tools</span> <span class="arrow down"></span></button> <button type="button" aria-label="Tools" class="mobile-dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my-blog/dist/Tools/Git/Git-和-GitHub：从入门到实践1-Git-和-GitHub-基础简介.html" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/dist/Tools/Other/使用frp内网穿透工具.html" class="nav-link">
  Other
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Frontend" class="dropdown-title"><span class="title">Frontend</span> <span class="arrow down"></span></button> <button type="button" aria-label="Frontend" class="mobile-dropdown-title"><span class="title">Frontend</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my-blog/dist/Frontend/HTML5/" class="nav-link">
  Html &amp; CSS
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/dist/Frontend/JavaScript/" class="nav-link router-link-active">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/dist/Frontend/Angular/" class="nav-link">
  Angular
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/dist/Frontend/GraphQL/GraphQL-分享-理论篇.html" class="nav-link">
  GraphQL
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/dist/Frontend/RxJS-6/RxJS-学习系列-1--认识-RxJS.html" class="nav-link">
  RxJS6
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Backend" class="dropdown-title"><span class="title">Backend</span> <span class="arrow down"></span></button> <button type="button" aria-label="Backend" class="mobile-dropdown-title"><span class="title">Backend</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Laravel
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/my-blog/dist/Backend/Laravel/Laravel-model/Laravel-model-tips.html" class="nav-link">
  Model
</a></li><li class="dropdown-subitem"><a href="/my-blog/dist/Backend/Laravel/Laravel-echo-server/Laravel-echo构建实时应用.html" class="nav-link">
  实时通信
</a></li><li class="dropdown-subitem"><a href="/my-blog/dist/Backend/Laravel/Laravel-3rd-party/Laravel-常用第三方类库.html" class="nav-link">
  类库使用
</a></li><li class="dropdown-subitem"><a href="/my-blog/dist/Backend/Laravel/Laravel-feature/Laravel-best-practices.html" class="nav-link">
  开发收集
</a></li></ul></li><li class="dropdown-item"><h4>
          Database
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/my-blog/dist/Backend/Database/MySQL/总结.html" class="nav-link">
  MySQL
</a></li><li class="dropdown-subitem"><a href="/my-blog/dist/Backend/Database/MQTT/MQTT系列-MQTT基础概念.html" class="nav-link">
  MQTT
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Links" class="dropdown-title"><span class="title">Links</span> <span class="arrow down"></span></button> <button type="button" aria-label="Links" class="mobile-dropdown-title"><span class="title">Links</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my-blog/dist/Friend-links/" class="nav-link">
  Links
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/dist/_DEMO/" class="nav-link">
  Markdown
</a></li></ul></div></div><div class="nav-item"><a href="/my-blog/dist/" class="nav-link">
  Home
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CI/CD" class="dropdown-title"><span class="title">CI/CD</span> <span class="arrow down"></span></button> <button type="button" aria-label="CI/CD" class="mobile-dropdown-title"><span class="title">CI/CD</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my-blog/dist/DevOps/Jenkins/Jenkins2-学习系列1----使用Docker方式安装最新版Jenkins.html" class="nav-link">
  Jenkins
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/dist/DevOps/Docker/Docker-学习系列1--使用-Docker-快速实现多版本PHP切换.html" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/dist/DevOps/Ansible/Ansible-2----1-介绍与使用场景.html" class="nav-link">
  Ansible
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/dist/DevOps/GithubActions/入门.html" class="nav-link">
  Github Actions
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/dist/DevOps/Linux/SSH--技巧.html" class="nav-link">
  Linux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tools" class="dropdown-title"><span class="title">Tools</span> <span class="arrow down"></span></button> <button type="button" aria-label="Tools" class="mobile-dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my-blog/dist/Tools/Git/Git-和-GitHub：从入门到实践1-Git-和-GitHub-基础简介.html" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/dist/Tools/Other/使用frp内网穿透工具.html" class="nav-link">
  Other
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Frontend" class="dropdown-title"><span class="title">Frontend</span> <span class="arrow down"></span></button> <button type="button" aria-label="Frontend" class="mobile-dropdown-title"><span class="title">Frontend</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my-blog/dist/Frontend/HTML5/" class="nav-link">
  Html &amp; CSS
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/dist/Frontend/JavaScript/" class="nav-link router-link-active">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/dist/Frontend/Angular/" class="nav-link">
  Angular
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/dist/Frontend/GraphQL/GraphQL-分享-理论篇.html" class="nav-link">
  GraphQL
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/dist/Frontend/RxJS-6/RxJS-学习系列-1--认识-RxJS.html" class="nav-link">
  RxJS6
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Backend" class="dropdown-title"><span class="title">Backend</span> <span class="arrow down"></span></button> <button type="button" aria-label="Backend" class="mobile-dropdown-title"><span class="title">Backend</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Laravel
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/my-blog/dist/Backend/Laravel/Laravel-model/Laravel-model-tips.html" class="nav-link">
  Model
</a></li><li class="dropdown-subitem"><a href="/my-blog/dist/Backend/Laravel/Laravel-echo-server/Laravel-echo构建实时应用.html" class="nav-link">
  实时通信
</a></li><li class="dropdown-subitem"><a href="/my-blog/dist/Backend/Laravel/Laravel-3rd-party/Laravel-常用第三方类库.html" class="nav-link">
  类库使用
</a></li><li class="dropdown-subitem"><a href="/my-blog/dist/Backend/Laravel/Laravel-feature/Laravel-best-practices.html" class="nav-link">
  开发收集
</a></li></ul></li><li class="dropdown-item"><h4>
          Database
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/my-blog/dist/Backend/Database/MySQL/总结.html" class="nav-link">
  MySQL
</a></li><li class="dropdown-subitem"><a href="/my-blog/dist/Backend/Database/MQTT/MQTT系列-MQTT基础概念.html" class="nav-link">
  MQTT
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Links" class="dropdown-title"><span class="title">Links</span> <span class="arrow down"></span></button> <button type="button" aria-label="Links" class="mobile-dropdown-title"><span class="title">Links</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my-blog/dist/Friend-links/" class="nav-link">
  Links
</a></li><li class="dropdown-item"><!----> <a href="/my-blog/dist/_DEMO/" class="nav-link">
  Markdown
</a></li></ul></div></div><div class="nav-item"><a href="/my-blog/dist/" class="nav-link">
  Home
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/my-blog/dist/Frontend/JavaScript/ES6技巧总结.html" class="sidebar-link">ES6技巧总结</a></li><li><a href="/my-blog/dist/Frontend/JavaScript/JavaScript中reduce的使用.html" class="sidebar-link">JavaScript中reduce的使用</a></li><li><a href="/my-blog/dist/Frontend/JavaScript/JavaScript中的事件相关.html" class="sidebar-link">JavaScript中的事件相关</a></li><li><a href="/my-blog/dist/Frontend/JavaScript/说下js中的bind.html" class="sidebar-link">说下JavaScript中的bind</a></li><li><a href="/my-blog/dist/Frontend/JavaScript/说说JSON和JSONP，也许你会豁然开朗.html" class="sidebar-link">说说JSON和JSONP，也许你会豁然开朗</a></li><li><a href="/my-blog/dist/Frontend/JavaScript/解决setTimeout中的this指向问题.html" class="sidebar-link">解决setTimeout中的this指向问题</a></li><li><a href="/my-blog/dist/Frontend/JavaScript/使用-StorageEvent-解决浏览器Tab数据同步问题.html" class="sidebar-link">使用StorageEvent解决浏览器标签页数据同步问题</a></li><li><a href="/my-blog/dist/Frontend/JavaScript/关于JS中的循环.html" class="sidebar-link">关于JS中的循环</a></li><li><a href="/my-blog/dist/Frontend/JavaScript/JS-面试总结-理论篇.html" class="sidebar-link">JS-面试总结-理论篇</a></li><li><a href="/my-blog/dist/Frontend/JavaScript/前端路由原理之 hash 模式和 history 模式.html" class="sidebar-link">前端路由原理之 hash 模式和 history 模式</a></li><li><a href="/my-blog/dist/Frontend/JavaScript/Typescript-技巧，补充中.html" class="sidebar-link">Typescript-技巧，补充中</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>原文链接：https://mp.weixin.qq.com/s/Z0jnNJlfOrXHdNDb8CM-ng</p> <h2 id="导读"><a href="#导读" class="header-anchor">#</a> 导读</h2> <p>变量和类型是学习<code>JavaScript</code>最先接触到的东西，但是往往看起来最简单的东西往往还隐藏着很多你不了解、或者容易犯错的知识，比如下面几个问题：</p> <ul><li><p><code>JavaScript</code>中的变量在内存中的具体存储形式是什么？</p></li> <li><p><code>0.1+0.2</code>为什么不等于<code>0.3</code>?发生小数计算错误的具体原因是什么？</p></li> <li><p><code>Symbol</code>的特点，以及实际应用场景是什么？</p></li> <li><p><code>[] == ![]</code>、<code>[undefined] == false</code>为什么等于<code>true</code>?代码中何时会发生隐式类型转换？转换的规则是什么？</p></li> <li><p>如何精确的判断变量的类型？</p></li></ul> <p>如果你还不能很好的解答上面的问题，那说明你还没有完全掌握这部分的知识，那么请好好阅读下面的文章吧。</p> <p>本文从底层原理到实际应用详细介绍了<code>JavaScript</code>中的变量和类型相关知识。</p> <h2 id="一、javascript数据类型"><a href="#一、javascript数据类型" class="header-anchor">#</a> 一、JavaScript数据类型</h2> <p>ECMAScript标准规定了<code>7</code>种数据类型，其把这<code>7</code>种数据类型又分为两种：原始类型和对象类型。</p> <p><strong>原始类型</strong></p> <ul><li><p><code>Null</code>：只包含一个值：<code>null</code></p></li> <li><p><code>Undefined</code>：只包含一个值：<code>undefined</code></p></li> <li><p><code>Boolean</code>：包含两个值：<code>true</code>和<code>false</code></p></li> <li><p><code>Number</code>：整数或浮点数，还有一些特殊值（<code>-Infinity</code>、<code>+Infinity</code>、<code>NaN</code>）</p></li> <li><p><code>String</code>：一串表示文本值的字符序列</p></li> <li><p><code>Symbol</code>：一种实例是唯一且不可改变的数据类型</p></li></ul> <p>(在<code>es10</code>中加入了第七种原始类型<code>BigInt</code>，现已被最新<code>Chrome</code>支持)</p> <p><strong>对象类型</strong></p> <ul><li><code>Object</code>：自己分一类丝毫不过分，除了常用的<code>Object</code>，<code>Array</code>、<code>Function</code>等都属于特殊的对象</li></ul> <h2 id="二、为什么区分原始类型和对象类型"><a href="#二、为什么区分原始类型和对象类型" class="header-anchor">#</a> 二、为什么区分原始类型和对象类型</h2> <h3 id="_2-1-不可变性"><a href="#_2-1-不可变性" class="header-anchor">#</a> 2.1 不可变性</h3> <p>上面所提到的原始类型，在<code>ECMAScript</code>标准中，它们被定义为<code>primitive values</code>，即原始值，代表值本身是不可被改变的。</p> <p>以字符串为例，我们在调用操作字符串的方法时，没有任何方法是可以直接改变字符串的：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var str = 'ConardLi';
str.slice(1);str.substr(1);
str.trim(1);
str.toLowerCase(1);
str[0] = 1;
console.log(str);  
// ConardLi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>在上面的代码中我们对<code>str</code>调用了几个方法，无一例外，这些方法都在原字符串的基础上产生了一个新字符串，而非直接去改变<code>str</code>，这就印证了字符串的不可变性。</p> <p>那么，当我们继续调用下面的代码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>str += '6';
console.log(str);  
// ConardLi6
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>你会发现，<code>str</code>的值被改变了，这不就打脸了字符串的不可变性么？其实不然，我们从内存上来理解：</p> <p>在<code>JavaScript</code>中，每一个变量在内存中都需要一个空间来存储。</p> <p>内存空间又被分为两种，栈内存与堆内存。</p> <p>栈内存：</p> <ul><li><p>存储的值大小固定</p></li> <li><p>空间较小</p></li> <li><p>可以直接操作其保存的变量，运行效率高</p></li> <li><p>由系统自动分配存储空间</p></li></ul> <p><code>JavaScript</code>中的原始类型的值被直接存储在栈中，在变量定义时，栈就为其分配好了内存空间。</p> <p><img src="https://hexo-blog.pek3b.qingstor.com/upload_images/71414-bc1320c29cae77f7?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p> <p>由于栈中的内存空间的大小是固定的，那么注定了存储在栈中的变量就是不可变的。</p> <p>在上面的代码中，我们执行了<code>str += '6'</code>的操作，实际上是在栈中又开辟了一块内存空间用于存储<code>'ConardLi6'</code>，然后将变量<code>str</code>指向这块空间，所以这并不违背<code>不可变性的</code>特点。</p> <p><img src="https://hexo-blog.pek3b.qingstor.com/upload_images/71414-cabe683bdd16f68e?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p> <h3 id="_2-2-引用类型"><a href="#_2-2-引用类型" class="header-anchor">#</a> 2.2 引用类型</h3> <p>堆内存：</p> <ul><li><p>存储的值大小不定，可动态调整</p></li> <li><p>空间较大，运行效率低</p></li> <li><p>无法直接操作其内部存储，使用引用地址读取</p></li> <li><p>通过代码进行分配空间</p></li></ul> <p>相对于上面具有不可变性的原始类型，我习惯把对象称为引用类型，引用类型的值实际存储在堆内存中，它在栈中只存储了一个固定长度的地址，这个地址指向堆内存中的值。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var obj1 = {name:&quot;ConardLi&quot;}
var obj2 = {age:18}
var obj3 = function(){...}
var obj4 = [1,2,3,4,5,6,7,8,9]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://hexo-blog.pek3b.qingstor.com/upload_images/71414-5aefda71ecd07b3e?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p> <blockquote><p>由于内存是有限的，这些变量不可能一直在内存中占用资源，这里推荐下这篇文章JavaScript中的垃圾回收和内存泄漏，这里告诉你<code>JavaScript</code>是如何进行垃圾回收以及可能会发生内存泄漏的一些场景。</p></blockquote> <p>当然，引用类型就不再具有<code>不可变性</code>了，我们可以轻易的改变它们：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>obj1.name = &quot;ConardLi6&quot;;obj2.age = 19;obj4.length = 0;console.log(obj1); //{name:&quot;ConardLi6&quot;}console.log(obj2); // {age:19}console.log(obj4); // []
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>以数组为例，它的很多方法都可以改变它自身。</p> <ul><li><p><code>pop()</code> 删除数组最后一个元素，如果数组为空，则不改变数组，返回undefined，改变原数组，返回被删除的元素</p></li> <li><p><code>push()</code>向数组末尾添加一个或多个元素，改变原数组，返回新数组的长度</p></li> <li><p><code>shift()</code>把数组的第一个元素删除，若空数组，不进行任何操作，返回undefined,改变原数组，返回第一个元素的值</p></li> <li><p><code>unshift()</code>向数组的开头添加一个或多个元素，改变原数组，返回新数组的长度</p></li> <li><p><code>reverse()</code>颠倒数组中元素的顺序，改变原数组，返回该数组</p></li> <li><p><code>sort()</code>对数组元素进行排序，改变原数组，返回该数组</p></li> <li><p><code>splice()</code>从数组中添加/删除项目，改变原数组，返回被删除的元素</p></li></ul> <p>下面我们通过几个操作来对比一下原始类型和引用类型的区别：</p> <h3 id="_2-3-复制"><a href="#_2-3-复制" class="header-anchor">#</a> 2.3 复制</h3> <p>当我们把一个变量的值复制到另一个变量上时，原始类型和引用类型的表现是不一样的，先来看看原始类型：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var name = 'ConardLi';
var name2 = name;name2 = 'code秘密花园';
console.log(name); 
// ConardLi;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://hexo-blog.pek3b.qingstor.com/upload_images/71414-c994a015cd331cf7?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p> <p>内存中有一个变量<code>name</code>，值为<code>ConardLi</code>。我们从变量<code>name</code>复制出一个变量<code>name2</code>，此时在内存中创建了一个块新的空间用于存储<code>ConardLi</code>，虽然两者值是相同的，但是两者指向的内存空间完全不同，这两个变量参与任何操作都互不影响。</p> <p>复制一个引用类型：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var obj = {name:'ConardLi'};
var obj2 = obj;
obj2.name = 'code秘密花园';
console.log(obj.name); 
// code秘密花园
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="https://hexo-blog.pek3b.qingstor.com/upload_images/71414-650b33f0096626d9?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p> <p>当我们复制引用类型的变量时，实际上复制的是栈中存储的地址，所以复制出来的<code>obj2</code>实际上和<code>obj</code>指向的堆中同一个对象。因此，我们改变其中任何一个变量的值，另一个变量都会受到影响，这就是为什么会有深拷贝和浅拷贝的原因。</p> <h3 id="_2-4-比较"><a href="#_2-4-比较" class="header-anchor">#</a> 2.4 比较</h3> <p>当我们在对两个变量进行比较时，不同类型的变量的表现是不同的：</p> <p><img src="https://hexo-blog.pek3b.qingstor.com/upload_images/71414-aec290ffc09101b7?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var name = 'ConardLi';
var name2 = 'ConardLi';
console.log(name === name2); 
// truevar obj = {name:'ConardLi'};
var obj2 = {name:'ConardLi'};
console.log(obj === obj2); // false
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>对于原始类型，比较时会直接比较它们的值，如果值相等，即返回<code>true</code>。</p> <p>对于引用类型，比较时会比较它们的引用地址，虽然两个变量在堆中存储的对象具有的属性值都是相等的，但是它们被存储在了不同的存储空间，因此比较值为<code>false</code>。</p> <h3 id="_2-5-值传递和引用传递"><a href="#_2-5-值传递和引用传递" class="header-anchor">#</a> 2.5 值传递和引用传递</h3> <p>借助下面的例子，我们先来看一看什么是值传递，什么是引用传递：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>let name = 'ConardLi';
function changeValue(name){  
   name = 'code秘密花园';
}
changeValue(name);
console.log(name);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>执行上面的代码，如果最终打印出来的<code>name</code>是<code>'ConardLi'</code>，没有改变，说明函数参数传递的是变量的值，即值传递。如果最终打印的是<code>'code秘密花园'</code>，函数内部的操作可以改变传入的变量，那么说明函数参数传递的是引用，即引用传递。</p> <p>很明显，上面的执行结果是<code>'ConardLi'</code>，即函数参数仅仅是被传入变量复制给了的一个局部变量，改变这个局部变量不会对外部变量产生影响。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>let obj = { name:'ConardLi' };
function changeValue(obj){  
   obj.name = 'code秘密花园';
}
changeValue(obj);
console.log(obj.name); 
// code秘密花园
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>上面的代码可能让你产生疑惑，是不是参数是引用类型就是引用传递呢？</p> <p>首先明确一点，<code>ECMAScript</code>中所有的函数的参数都是按值传递的。</p> <p>同样的，当函数参数是引用类型时，我们同样将参数复制了一个副本到局部变量，只不过复制的这个副本是指向堆内存中的地址而已，我们在函数内部对对象的属性进行操作，实际上和外部变量指向堆内存中的值相同，但是这并不代表着引用传递，下面我们再按一个例子：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>let obj = {};
function changeValue(obj){  
  obj.name = 'ConardLi';  
  obj = {
     name:'code秘密花园'
  };
}
changeValue(obj);
console.log(obj.name); // ConardLi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>可见，函数参数传递的并不是变量的<code>引用</code>，而是变量拷贝的副本，当变量是原始类型时，这个副本就是值本身，当变量是引用类型时，这个副本是指向堆内存的地址。所以，再次记住：</p> <blockquote><p><code>ECMAScript</code>中所有的函数的参数都是按值传递的。</p></blockquote> <h2 id="三、分不清的null和undefined"><a href="#三、分不清的null和undefined" class="header-anchor">#</a> 三、分不清的null和undefined</h2> <p><img src="https://hexo-blog.pek3b.qingstor.com/upload_images/71414-19f51a9f1707c589?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p> <p>在原始类型中，有两个类型<code>Null</code>和<code>Undefined</code>，他们都有且仅有一个值，<code>null</code>和<code>undefined</code>，并且他们都代表无和空，我一般这样区分它们：</p> <p><strong>null</strong></p> <p>表示被赋值过的对象，刻意把一个对象赋值为<code>null</code>，故意表示其为空，不应有值。</p> <p>所以对象的某个属性值为<code>null</code>是正常的，<code>null</code>转换为数值时值为<code>0</code>。</p> <p><strong>undefined</strong></p> <p>表示“缺少值”，即此处应有一个值，但还没有定义，</p> <p>如果一个对象的某个属性值为<code>undefined</code>，这是不正常的，如<code>obj.name=undefined</code>，我们不应该这样写，应该直接<code>delete obj.name</code>。</p> <p><code>undefined</code>转为数值时为<code>NaN</code>(非数字值的特殊值)</p> <p><code>JavaScript</code>是一门动态类型语言，成员除了表示存在的空值外，还有可能根本就不存在（因为存不存在只在运行期才知道），这就是<code>undefined</code>的意义所在。对于<code>JAVA</code>这种强类型语言，如果有<code>&quot;undefined&quot;</code>这种情况，就会直接编译失败，所以在它不需要一个这样的类型。</p> <h2 id="四、不太熟的symbol类型"><a href="#四、不太熟的symbol类型" class="header-anchor">#</a> 四、不太熟的Symbol类型</h2> <p><code>Symbol</code>类型是<code>ES6</code>中新加入的一种原始类型。</p> <blockquote><p>每个从Symbol()返回的symbol值都是唯一的。一个symbol值能作为对象属性的标识符；这是该数据类型仅有的目的。</p></blockquote> <p>下面来看看<code>Symbol</code>类型具有哪些特性。</p> <h3 id="_4-1-symbol的特性"><a href="#_4-1-symbol的特性" class="header-anchor">#</a> 4.1 Symbol的特性</h3> <p><strong>1.独一无二</strong></p> <p>直接使用<code>Symbol()</code>创建新的<code>symbol</code>变量，可选用一个字符串用于描述。当参数为对象时，将调用对象的<code>toString()</code>方法。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var sym1 = Symbol();  
// Symbol() var sym2 = Symbol('ConardLi');  
// Symbol(ConardLi)var sym3 = Symbol('ConardLi');  
// Symbol(ConardLi)
var sym4 = Symbol({name:'ConardLi'}); 
// Symbol([object Object])console.log(sym2 === sym3);  // false
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>我们用两个相同的字符串创建两个<code>Symbol</code>变量，它们是不相等的，可见每个<code>Symbol</code>变量都是独一无二的。</p> <p>如果我们想创造两个相等的<code>Symbol</code>变量，可以使用<code>Symbol.for(key)</code>。</p> <blockquote><p>使用给定的key搜索现有的symbol，如果找到则返回该symbol。否则将使用给定的key在全局symbol注册表中创建一个新的symbol。</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>var sym1 = Symbol.for('ConardLi');
var sym2 = Symbol.for('ConardLi');
console.log(sym1 === sym2); // true
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>2.原始类型</strong></p> <p>注意是使用<code>Symbol()</code>函数创建<code>symbol</code>变量，并非使用构造函数，使用<code>new</code>操作符会直接报错。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>new Symbol(); // Uncaught TypeError: Symbol is not a constructor
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>我们可以使用<code>typeof</code>运算符判断一个<code>Symbol</code>类型：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>typeof Symbol() === 'symbol'typeof Symbol('ConardLi') === 'symbol'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>3.不可枚举</strong></p> <p>当使用<code>Symbol</code>作为对象属性时，可以保证对象不会出现重名属性，调用<code>for...in</code>不能将其枚举出来，另外调用<code>Object.getOwnPropertyNames、Object.keys()</code>也不能获取<code>Symbol</code>属性。</p> <blockquote><p>可以调用Object.getOwnPropertySymbols()用于专门获取Symbol属性。</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>var obj = {  
  name:'ConardLi',  
  [Symbol('name2')]:'code秘密花园'
}
Object.getOwnPropertyNames(obj); // [&quot;name&quot;]
Object.keys(obj); // [&quot;name&quot;]
for (var i in obj) {   
  console.log(i); // name
}
Object.getOwnPropertySymbols(obj)  // [Symbol(name)]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_4-2-symbol的应用场景"><a href="#_4-2-symbol的应用场景" class="header-anchor">#</a> 4.2 Symbol的应用场景</h3> <p>下面是几个<code>Symbol</code>在程序中的应用场景。</p> <p><strong>应用一：防止XSS</strong></p> <p>在<code>React</code>的<code>ReactElement</code>对象中，有一个<code>$$typeof</code>属性，它是一个<code>Symbol</code>类型的变量：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var REACT_ELEMENT_TYPE =  
(typeof Symbol === 'function' &amp;&amp; Symbol.for &amp;&amp; Symbol.for('react.element')) 
||  0xeac7;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>ReactElement.isValidElement</code>函数用来判断一个React组件是否是有效的，下面是它的具体实现。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ReactElement.isValidElement = function (object) {  
  return typeof object === 'object' &amp;&amp; object !== null 
&amp;&amp; object.$$typeof === REACT_ELEMENT_TYPE;
};
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>可见<code>React</code>渲染时会把没有<code>$$typeof</code>标识，以及规则校验不通过的组件过滤掉。</p> <p>如果你的服务器有一个漏洞，允许用户存储任意<code>JSON</code>对象， 而客户端代码需要一个字符串，这可能会成为一个问题：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// JSON
let expectedTextButGotJSON = {  
  type: 'div',  
  props: {    
    dangerouslySetInnerHTML: {      
    __html: '/* put your exploit here */'    
  }, 
 },
};
let message = { text: expectedTextButGotJSON };
&lt;p&gt; {message.text}&lt;/p&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>而<code>JSON</code>中不能存储<code>Symbol</code>类型的变量，这就是防止<code>XSS</code>的一种手段。</p> <p><strong>应用二：私有属性</strong></p> <p>借助<code>Symbol</code>类型的不可枚举，我们可以在类中模拟私有属性，控制变量读写：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const privateField = Symbol();
class myClass {  
constructor(){    
  this[privateField] = 'ConardLi';  
}  
getField(){    
    return this[privateField];  
}  
setField(val){    
  this[privateField] = val;  
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>应用三：防止属性污染</strong></p> <p>在某些情况下，我们可能要为对象添加一个属性，此时就有可能造成属性覆盖，用<code>Symbol</code>作为对象属性可以保证永远不会出现同名属性。</p> <p>例如下面的场景，我们模拟实现一个<code>call</code>方法：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Function.prototype.myCall  =  function  (context)  {      
  if  (typeof this  !==  'function')  {        
    return undefined;  // 用于防止 Function.prototype.myCall() 直接调用      
  }      
  context = context || window;      
  const fn = Symbol();      
  context[fn] = this;     
  const args = [...arguments].slice(1);      
  const result = context[fn](...args);      
  delete context[fn];     
  return result;    
}
		
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>我们需要在某个对象上临时调用一个方法，又不能造成属性污染，<code>Symbol</code>是一个很好的选择。</p> <h2 id="五、不老实的number类型"><a href="#五、不老实的number类型" class="header-anchor">#</a> 五、不老实的Number类型</h2> <p>为什么说<code>Number</code>类型不老实呢，相信大家都多多少少的在开发中遇到过小数计算不精确的问题，比如<code>0.1+0.2!==0.3</code>，下面我们来追本溯源，看看为什么会出现这种现象，以及该如何避免。</p> <p>下面是我实现的一个简单的函数，用于判断两个小数进行加法运算是否精确：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    function judgeFloat(n, m) {
      const binaryN = n.toString(2);
      const binaryM = m.toString(2);
      console.log(`${n}的二进制是    ${binaryN}`);
      console.log(`${m}的二进制是    ${binaryM}`);
      const MN = m + n;
      const accuracyMN = (m * 100 + n * 100) / 100;
      const binaryMN = MN.toString(2);
      const accuracyBinaryMN = accuracyMN.toString(2);
      console.log(`${n}+${m}的二进制是${binaryMN}`);
      console.log(`${accuracyMN}的二进制是    ${accuracyBinaryMN}`);
      console.log(`${n}+${m}的二进制再转成十进制是${to10(binaryMN)}`);
      console.log(`${accuracyMN}的二进制是再转成十进制是${to10(accuracyBinaryMN)}`);
      console.log(`${n}+${m}在js中计算是${(to10(binaryMN) === to10(accuracyBinaryMN)) ? '' : '不'}准确的`);
    }
    function to10(n) {
      const pre = (n.split('.')[0] - 0).toString(2);
      const arr = n.split('.')[1].split('');
      let i = 0;
      let result = 0;
      while (i &lt; arr.length) {
        result += arr[i] * Math.pow(2, -(i + 1));
        i++;
      }
      return result;
    }
    judgeFloat(0.1, 0.2);
    judgeFloat(0.6, 0.7);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p><img src="https://hexo-blog.pek3b.qingstor.com/upload_images/71414-4cacaaab9ea38a60?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p> <h3 id="_5-1-精度丢失"><a href="#_5-1-精度丢失" class="header-anchor">#</a> 5.1 精度丢失</h3> <p>计算机中所有的数据都是以<code>二进制</code>存储的，所以在计算时计算机要把数据先转换成<code>二进制</code>进行计算，然后在把计算结果转换成<code>十进制</code>。</p> <p>由上面的代码不难看出，在计算<code>0.1+0.2</code>时，<code>二进制</code>计算发生了精度丢失，导致再转换成<code>十进制</code>后和预计的结果不符。</p> <h3 id="_5-2-对结果的分析-更多的问题"><a href="#_5-2-对结果的分析-更多的问题" class="header-anchor">#</a> 5.2 对结果的分析—更多的问题</h3> <p><code>0.1</code>和<code>0.2</code>的二进制都是以1100无限循环的小数，下面逐个来看JS帮我们计算所得的结果：</p> <p><strong>0.1的二进制</strong>：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>0.0001100110011001100110011001100110011001100110011001101
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>0.2的二进制</strong>：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>0.001100110011001100110011001100110011001100110011001101
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>理论上讲，由上面的结果相加应该：</strong>：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>0.0100110011001100110011001100110011001100110011001100111
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>实际JS计算得到的0.1+0.2的二进制</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>0.0100110011001100110011001100110011001100110011001101
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>看到这里你可能会产生更多的问题：</p> <blockquote><p>为什么 js计算出的 0.1的二进制 是这么多位而不是更多位？？？</p> <p>为什么 js计算的（0.1+0.2）的二进制和我们自己计算的（0.1+0.2）的二进制结果不一样呢？？？</p> <p>为什么 0.1的二进制 + 0.2的二进制 != 0.3的二进制？？？</p></blockquote> <h3 id="_5-3-js对二进制小数的存储方式"><a href="#_5-3-js对二进制小数的存储方式" class="header-anchor">#</a> 5.3 js对二进制小数的存储方式</h3> <p>小数的<code>二进制</code>大多数都是无限循环的，<code>JavaScript</code>是怎么来存储他们的呢？</p> <p>在ECMAScript®语言规范中可以看到，<code>ECMAScript</code>中的<code>Number</code>类型遵循<code>IEEE 754</code>标准。使用64位固定长度来表示。</p> <p>事实上有很多语言的数字类型都遵循这个标准，例如<code>JAVA</code>,所以很多语言同样有着上面同样的问题。</p> <p>所以下次遇到这种问题不要上来就喷<code>JavaScript</code>…</p> <p>有兴趣可以看看下这个网站http://0.30000000000000004.com/，是的，你没看错，就是http://0.30000000000000004.com/！！！</p> <h3 id="_5-4-ieee-754"><a href="#_5-4-ieee-754" class="header-anchor">#</a> 5.4 IEEE 754</h3> <p><code>IEEE754</code>标准包含一组实数的二进制表示法。它有三部分组成：</p> <ul><li><p>符号位</p></li> <li><p>指数位</p></li> <li><p>尾数位</p></li></ul> <p>三种精度的浮点数各个部分位数如下：</p> <p><img src="https://hexo-blog.pek3b.qingstor.com/upload_images/71414-c27871083c821744?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image" title="image"></p> <figcaption style="margin:10px 0px 0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word !important;font-size:0.7em;color:rgb(153, 153, 153);line-height:inherit;text-align:center;">image</figcaption> <p><code>JavaScript</code>使用的是64位双精度浮点数编码，所以它的<code>符号位</code>占<code>1</code>位，指数位占<code>11</code>位，尾数位占<code>52</code>位。</p> <p>下面我们在理解下什么是<code>符号位</code>、<code>指数位</code>、<code>尾数位</code>，以<code>0.1</code>为例：</p> <p>它的二进制为：<code>0.0001100110011001100...</code></p> <p>为了节省存储空间，在计算机中它是以科学计数法表示的，也就是</p> <p><code>1.100110011001100...</code> X 2-4</p> <p>如果这里不好理解可以想一下十进制的数：</p> <p><code>1100</code>的科学计数法为<code>11</code> X 102</p> <p>所以：</p> <p><img src="https://hexo-blog.pek3b.qingstor.com/upload_images/71414-97cb514efa3f24d5?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image" title="image"></p> <figcaption style="margin:10px 0px 0px;padding:0px;max-width:100%;box-sizing:border-box;word-wrap:break-word !important;font-size:0.7em;color:rgb(153, 153, 153);line-height:inherit;text-align:center;">image</figcaption> <p><code>符号位</code>就是标识正负的，<code>1</code>表示<code>负</code>，<code>0</code>表示<code>正</code>；</p> <p><code>指数位</code>存储科学计数法的指数；</p> <p><code>尾数位</code>存储科学计数法后的有效数字；</p> <p>所以我们通常看到的二进制，其实是计算机实际存储的尾数位。</p> <h3 id="_5-5-js中的tostring-2"><a href="#_5-5-js中的tostring-2" class="header-anchor">#</a> 5.5 js中的toString(2)</h3> <p>由于尾数位只能存储<code>52</code>个数字，这就能解释<code>toString(2)</code>的执行结果了：</p> <p>如果计算机没有存储空间的限制，那么<code>0.1</code>的<code>二进制</code>应该是：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>0.00011001100110011001100110011001100110011001100110011001...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>科学计数法尾数位</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>1.1001100110011001100110011001100110011001100110011001...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>但是由于限制，有效数字第<code>53</code>位及以后的数字是不能存储的，它遵循，如果是<code>1</code>就向前一位进<code>1</code>，如果是<code>0</code>就舍弃的原则。</p> <p>0.1的二进制科学计数法第53位是1，所以就有了下面的结果：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>0.0001100110011001100110011001100110011001100110011001101
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>0.2</code>有着同样的问题，其实正是由于这样的存储，在这里有了精度丢失，导致了<code>0.1+0.2!=0.3</code>。</p> <p>事实上有着同样精度问题的计算还有很多，我们无法把他们都记下来，所以当程序中有数字计算时，我们最好用工具库来帮助我们解决，下面是两个推荐使用的开源库：</p> <ul><li><p>number-precision</p></li> <li><p>mathjs/</p></li></ul> <h3 id="_5-6-javascript能表示的最大数字"><a href="#_5-6-javascript能表示的最大数字" class="header-anchor">#</a> 5.6 JavaScript能表示的最大数字</h3> <p>由与<code>IEEE 754</code>双精度64位规范的限制：</p> <p><code>指数位</code>能表示的最大数字：<code>1023</code>(十进制)</p> <p><code>尾数位</code>能表达的最大数字即尾数位都位<code>1</code>的情况</p> <p>所以JavaScript能表示的最大数字即位</p> <p><code>1.111...</code>X 21023 这个结果转换成十进制是<code>1.7976931348623157e+308</code>,这个结果即为<code>Number.MAX_VALUE</code>。</p> <h3 id="_5-7-最大安全数字"><a href="#_5-7-最大安全数字" class="header-anchor">#</a> 5.7 最大安全数字</h3> <p>JavaScript中<code>Number.MAX_SAFE_INTEGER</code>表示最大安全数字,计算结果是<code>9007199254740991</code>，即在这个数范围内不会出现精度丢失（小数除外）,这个数实际上是<code>1.111...</code>X 252。</p> <p>我们同样可以用一些开源库来处理大整数：</p> <ul><li><p>node-bignum</p></li> <li><p>node-bigint</p></li></ul> <p>其实官方也考虑到了这个问题，<code>bigInt</code>类型在<code>es10</code>中被提出，现在<code>Chrome</code>中已经可以使用，使用<code>bigInt</code>可以操作超过最大安全数字的数字。</p> <h2 id="六、还有哪些引用类型"><a href="#六、还有哪些引用类型" class="header-anchor">#</a> 六、还有哪些引用类型</h2> <blockquote><p>在<code>ECMAScript</code>中，引用类型是一种数据结构，用于将数据和功能组织在一起。</p></blockquote> <p>我们通常所说的对象，就是某个特定引用类型的实例。</p> <p>在<code>ECMAScript</code>关于类型的定义中，只给出了<code>Object</code>类型，实际上，我们平时使用的很多引用类型的变量，并不是由<code>Object</code>构造的，但是它们原型链的终点都是<code>Object</code>，这些类型都属于引用类型。</p> <ul><li><p><code>Array</code> 数组</p></li> <li><p><code>Date</code> 日期</p></li> <li><p><code>RegExp</code> 正则</p></li> <li><p><code>Function</code> 函数</p></li></ul> <h3 id="_6-1-包装类型"><a href="#_6-1-包装类型" class="header-anchor">#</a> 6.1 包装类型</h3> <p>为了便于操作基本类型值，<code>ECMAScript</code>还提供了几个特殊的引用类型，他们是基本类型的包装类型：</p> <ul><li><p><code>Boolean</code></p></li> <li><p><code>Number</code></p></li> <li><p><code>String</code></p></li></ul> <p>注意包装类型和原始类型的区别：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>true === new Boolean(true); // false
123 === new Number(123); // false
'ConardLi' === new String('ConardLi'); // false
console.log(typeof new String('ConardLi')); // object
console.log(typeof 'ConardLi'); // string
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>引用类型和包装类型的主要区别就是对象的生存期，使用new操作符创建的引用类型的实例，在执行流离开当前作用域之前都一直保存在内存中，而自基本类型则只存在于一行代码的执行瞬间，然后立即被销毁，这意味着我们不能在运行时为基本类型添加属性和方法。</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>var name = 'ConardLi'
name.color = 'red';
console.log(name.color); // undefined
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_6-2-装箱和拆箱"><a href="#_6-2-装箱和拆箱" class="header-anchor">#</a> 6.2 装箱和拆箱</h3> <ul><li><p>装箱转换：把基本类型转换为对应的包装类型</p></li> <li><p>拆箱操作：把引用类型转换为基本类型</p></li></ul> <p>既然原始类型不能扩展属性和方法，那么我们是如何使用原始类型调用方法的呢？</p> <p>每当我们操作一个基础类型时，后台就会自动创建一个包装类型的对象，从而让我们能够调用一些方法和属性，例如下面的代码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var name = &quot;ConardLi&quot;;
var name2 = name.substring(2);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>实际上发生了以下几个过程：</p> <ul><li><p>创建一个<code>String</code>的包装类型实例</p></li> <li><p>在实例上调用<code>substring</code>方法</p></li> <li><p>销毁实例</p></li></ul> <p>也就是说，我们使用基本类型调用方法，就会自动进行装箱和拆箱操作，相同的，我们使用<code>Number</code>和<code>Boolean</code>类型时，也会发生这个过程。</p> <p>从引用类型到基本类型的转换，也就是拆箱的过程中，会遵循<code>ECMAScript规范</code>规定的<code>toPrimitive</code>原则，一般会调用引用类型的<code>valueOf</code>和<code>toString</code>方法，你也可以直接重写<code>toPeimitive</code>方法。一般转换成不同类型的值遵循的原则不同，例如：</p> <ul><li><p>引用类型转换为<code>Number</code>类型，先调用<code>valueOf</code>，再调用<code>toString</code></p></li> <li><p>引用类型转换为<code>String</code>类型，先调用<code>toString</code>，再调用<code>valueOf</code></p></li></ul> <p>若<code>valueOf</code>和<code>toString</code>都不存在，或者没有返回基本类型，则抛出<code>TypeError</code>异常。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const obj = {
  valueOf: () =&gt; { console.log('valueOf'); return 123; },
  toString: () =&gt; { console.log('toString'); return 'ConardLi'; },
};
console.log(obj - 1);   // valueOf   122
console.log(`${obj}ConardLi`); // toString  ConardLiConardLi

const obj2 = {
  [Symbol.toPrimitive]: () =&gt; { console.log('toPrimitive'); return 123; },
};
console.log(obj2 - 1);   // valueOf   122

const obj3 = {
  valueOf: () =&gt; { console.log('valueOf'); return {}; },
  toString: () =&gt; { console.log('toString'); return {}; },
};
console.log(obj3 - 1);  
// valueOf  
// toString
// TypeError
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>除了程序中的自动拆箱和自动装箱，我们还可以手动进行拆箱和装箱操作。我们可以直接调用包装类型的<code>valueOf</code>或<code>toString</code>，实现拆箱操作：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var num = new Number(&quot;123&quot;);  
console.log( typeof num.valueOf() ); //number
console.log( typeof num.toString() ); //string
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="七、类型转换"><a href="#七、类型转换" class="header-anchor">#</a> 七、类型转换</h2> <p>因为<code>JavaScript</code>是弱类型的语言，所以类型转换发生非常频繁，上面我们说的装箱和拆箱其实就是一种类型转换。</p> <p>类型转换分为两种，隐式转换即程序自动进行的类型转换，强制转换即我们手动进行的类型转换。</p> <p>强制转换这里就不再多提及了，下面我们来看看让人头疼的可能发生隐式类型转换的几个场景，以及如何转换：</p> <h3 id="_7-1-类型转换规则"><a href="#_7-1-类型转换规则" class="header-anchor">#</a> 7.1 类型转换规则</h3> <p>如果发生了隐式转换，那么各种类型互转符合下面的规则：</p> <p><img src="https://hexo-blog.pek3b.qingstor.com/upload_images/71414-9b777cfcd203dfe9?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p> <h3 id="_7-2-if-语句和逻辑语句"><a href="#_7-2-if-语句和逻辑语句" class="header-anchor">#</a> 7.2 if 语句和逻辑语句</h3> <p>在<code>if</code>语句和逻辑语句中，如果只有单个变量，会先将变量转换为<code>Boolean</code>值，只有下面几种情况会转换成<code>false</code>，其余被转换成<code>true</code>：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>null
undefined
''
NaN
0
false
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_7-3-各种运数学算符"><a href="#_7-3-各种运数学算符" class="header-anchor">#</a> 7.3 各种运数学算符</h3> <p>我们在对各种非<code>Number</code>类型运用数学运算符(<code>- * /</code>)时，会先将非<code>Number</code>类型转换为<code>Number</code>类型;</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>1 - true // 0
1 - null //  1
1 * undefined //  NaN
2 * ['5'] //  10
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>注意<code>+</code>是个例外，执行<code>+</code>操作符时：</p> <ul><li><p>1.当一侧为<code>String</code>类型，被识别为字符串拼接，并会优先将另一侧转换为字符串类型。</p></li> <li><p>2.当一侧为<code>Number</code>类型，另一侧为原始类型，则将原始类型转换为<code>Number</code>类型。</p></li> <li><p>3.当一侧为<code>Number</code>类型，另一侧为引用类型，将引用类型和<code>Number</code>类型转换成字符串后拼接。</p></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>123 + '123' // 123123   （规则1）
123 + null  // 123    （规则2）
123 + true // 124    （规则2）
123 + {}  // 123[object Object]    （规则3）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_7-4"><a href="#_7-4" class="header-anchor">#</a> 7.4 ==</h3> <p>使用<code>==</code>时，若两侧类型相同，则比较结果和<code>===</code>相同，否则会发生隐式转换，使用<code>==</code>时发生的转换可以分为几种不同的情况（只考虑两侧类型不同）：</p> <ul><li><strong>1.NaN</strong></li></ul> <p><code>NaN</code>和其他任何类型比较永远返回<code>false</code>(包括和他自己)。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>NaN == NaN // false
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>2.Boolean</strong></li></ul> <p><code>Boolean</code>和其他任何类型比较，<code>Boolean</code>首先被转换为<code>Number</code>类型。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>true == 1  // true 
true == '2'  // false
true == ['1']  // true
true == ['2']  // false
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>这里注意一个可能会弄混的点：<code>undefined、null</code>和<code>Boolean</code>比较，虽然<code>undefined、null</code>和<code>false</code>都很容易被想象成假值，但是他们比较结果是<code>false</code>，原因是<code>false</code>首先被转换成<code>0</code>：</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>undefined == false // false
null == false // false
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><strong>3.String和Number</strong></li></ul> <p><code>String</code>和<code>Number</code>比较，先将<code>String</code>转换为<code>Number</code>类型。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>123 == '123' // true'' == 0 // true
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>4.null和undefined</strong></li></ul> <p><code>null == undefined</code>比较结果是<code>true</code>，除此之外，<code>null、undefined</code>和其他任何结果的比较值都为<code>false</code>。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>null == undefined // true
null == '' // false
null == 0 // false
null == false // false
undefined == '' // false
undefined == 0 // false
undefined == false // false
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><strong>5.原始类型和引用类型</strong></li></ul> <p>当原始类型和引用类型做比较时，对象类型会依照<code>ToPrimitive</code>规则转换为原始类型:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>  '[object Object]' == {} // true
  '1,2,3' == [1, 2, 3] // true
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>来看看下面这个比较：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[] == ![] // true
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>!</code>的优先级高于<code>==</code>，<code>![]</code>首先会被转换为<code>false</code>，然后根据上面第三点，<code>false</code>转换成<code>Number</code>类型<code>0</code>，左侧<code>[]</code>转换为<code>0</code>，两侧比较相等。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[null] == false // true
[undefined] == false // true
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>根据数组的<code>ToPrimitive</code>规则，数组元素为<code>null</code>或<code>undefined</code>时，该元素被当做空字符串处理，所以<code>[null]、[undefined]</code>都会被转换为<code>0</code>。</p> <p>所以，说了这么多，推荐使用<code>===</code>来判断两个值是否相等…</p> <h3 id="_7-5-一道有意思的面试题"><a href="#_7-5-一道有意思的面试题" class="header-anchor">#</a> 7.5 一道有意思的面试题</h3> <p>一道经典的面试题，如何让：<code>a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3</code>。</p> <p>根据上面的拆箱转换，以及<code>==</code>的隐式转换，我们可以轻松写出答案：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const a = {
   value:[3,2,1],
   valueOf: function () {return this.value.pop(); },
} 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="八、判断javascript数据类型的方式"><a href="#八、判断javascript数据类型的方式" class="header-anchor">#</a> 八、判断JavaScript数据类型的方式</h2> <h3 id="_8-1-typeof"><a href="#_8-1-typeof" class="header-anchor">#</a> 8.1 typeof</h3> <p><strong>适用场景</strong></p> <p><code>typeof</code>操作符可以准确判断一个变量是否为下面几个原始类型：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>typeof 'ConardLi'  // string
typeof 123  // number
typeof true  // boolean
typeof Symbol()  // symbol
typeof undefined  // undefined
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>你还可以用它来判断函数类型：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>typeof function(){}  // function
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>不适用场景</strong></p> <p>当你用<code>typeof</code>来判断引用类型时似乎显得有些乏力了：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>typeof [] // object
typeof {} // object
typeof new Date() // object
typeof /^\d*$/; // object
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>除函数外所有的引用类型都会被判定为<code>object</code>。</p> <p>另外<code>typeof null === 'object'</code>也会让人感到头痛，这是在<code>JavaScript</code>初版就流传下来的<code>bug</code>，后面由于修改会造成大量的兼容问题就一直没有被修复…</p> <h3 id="_8-2-instanceof"><a href="#_8-2-instanceof" class="header-anchor">#</a> 8.2 instanceof</h3> <p><code>instanceof</code>操作符可以帮助我们判断引用类型具体是什么类型的对象：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[] instanceof Array // true
new Date() instanceof Date // true
new RegExp() instanceof RegExp // true
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>我们先来回顾下原型链的几条规则：</p> <ul><li><p>1.所有引用类型都具有对象特性，即可以自由扩展属性</p></li> <li><p>2.所有引用类型都具有一个<code>**proto**</code>（隐式原型）属性，是一个普通对象</p></li> <li><p>3.所有的函数都具有<code>prototype</code>（显式原型）属性，也是一个普通对象</p></li> <li><p>4.所有引用类型<code>**proto**</code>值指向它构造函数的<code>prototype</code></p></li> <li><p>5.当试图得到一个对象的属性时，如果变量本身没有这个属性，则会去他的<code>**proto**</code>中去找</p></li></ul> <p><code>[] instanceof Array</code>实际上是判断<code>Foo.prototype</code>是否在<code>[]</code>的原型链上。</p> <p>所以，使用<code>instanceof</code>来检测数据类型，不会很准确，这不是它设计的初衷：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[] instanceof Object // truefunction(){}  instanceof Object // true
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>另外，使用<code>instanceof</code>也不能检测基本数据类型，所以<code>instanceof</code>并不是一个很好的选择。</p> <h3 id="_8-3-tostring"><a href="#_8-3-tostring" class="header-anchor">#</a> 8.3 toString</h3> <p>上面我们在拆箱操作中提到了<code>toString</code>函数，我们可以调用它实现从引用类型的转换。</p> <blockquote><p>每一个引用类型都有<code>toString</code>方法，默认情况下，<code>toString()</code>方法被每个<code>Object</code>对象继承。如果此方法在自定义对象中未被覆盖，<code>toString()</code> 返回 <code>&quot;[object type]&quot;</code>，其中<code>type</code>是对象的类型。</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>const obj = {};obj.toString() // [object Object]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>注意，上面提到了<code>如果此方法在自定义对象中未被覆盖</code>，<code>toString</code>才会达到预想的效果，事实上，大部分引用类型比如<code>Array、Date、RegExp</code>等都重写了<code>toString</code>方法。</p> <p>我们可以直接调用<code>Object</code>原型上未被覆盖的<code>toString()</code>方法，使用<code>call</code>来改变<code>this</code>指向来达到我们想要的效果。</p> <p><img src="https://hexo-blog.pek3b.qingstor.com/upload_images/71414-d253867e43d6bf5b?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p> <h3 id="_8-4-jquery"><a href="#_8-4-jquery" class="header-anchor">#</a> 8.4 jquery</h3> <p>我们来看看<code>jquery</code>源码中如何进行类型判断：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var class2type = {};
jQuery.each( &quot;Boolean Number String Function Array Date RegExp Object Error Symbol&quot;.split( &quot; &quot; ),
function( i, name ) {
    class2type[ &quot;[object &quot; + name + &quot;]&quot; ] = name.toLowerCase();
} );

type: function( obj ) {
    if ( obj == null ) {
        return obj + &quot;&quot;;
    }
    return typeof obj === &quot;object&quot; || typeof obj === &quot;function&quot; ?
        class2type[Object.prototype.toString.call(obj) ] || &quot;object&quot; :
        typeof obj;
}

isFunction: function( obj ) {
        return jQuery.type(obj) === &quot;function&quot;;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>原始类型直接使用<code>typeof</code>，引用类型使用<code>Object.prototype.toString.call</code>取得类型，借助一个<code>class2type</code>对象将字符串多余的代码过滤掉，例如<code>[object function]</code>将得到<code>array</code>，然后在后面的类型判断，如<code>isFunction</code>直接可以使用<code>jQuery.type(obj) === &quot;function&quot;</code>这样的判断。</p> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <ul><li><p>http://www.ecma-international.org/ecma-262/9.0/index.html</p></li> <li><p>https://while.dev/articles/explaining-truthy-falsy-null-0-and-undefined-in-typescript/</p></li> <li><p>https://github.com/mqyqingfeng/Blog/issues/28</p></li> <li><p>https://juejin.im/post/5bc5c752f265da0a9a399a62</p></li> <li><p>https://juejin.im/post/5bbda2b36fb9a05cfd27f55e</p></li> <li><p>《JS高级程序设计》</p></li></ul> <h2 id="小结"><a href="#小结" class="header-anchor">#</a> 小结</h2> <p>希望你阅读本篇文章后可以达到以下几点：</p> <ul><li><p>了解<code>JavaScript</code>中的变量在内存中的具体存储形式，可对应实际场景</p></li> <li><p>搞懂小数计算不精确的底层原因</p></li> <li><p>了解可能发生隐式类型转换的场景以及转换原则</p></li> <li><p>掌握判断<code>JavaScript</code>数据类型的方式和底层原理</p></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2020/12/7下午10:19:09</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="my-blog/dist/assets/js/app.f1043fdb.js" defer></script><script src="my-blog/dist/assets/js/2.4ddc0231.js" defer></script><script src="my-blog/dist/assets/js/320.7b527dbf.js" defer></script>
  </body>
</html>
